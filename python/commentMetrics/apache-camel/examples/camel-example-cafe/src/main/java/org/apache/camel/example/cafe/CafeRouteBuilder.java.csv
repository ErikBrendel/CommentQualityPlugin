commented;modifiers;parameterAmount;loc;comment;code
false;public,static;1;4;;public static void main(String[] args) throws Exception {     CafeRouteBuilder builder = new CafeRouteBuilder().     builder.runCafeRouteDemo(). }
false;protected;1;7;;protected void bindBeans(Registry registry) throws Exception {     registry.bind("drinkRouter", new DrinkRouter()).     registry.bind("orderSplitter", new OrderSplitter()).     registry.bind("barista", new Barista()).     registry.bind("waiter", new Waiter()).     registry.bind("aggregatorStrategy", new CafeAggregationStrategy()). }
false;public;0;31;;public void runCafeRouteDemo() throws Exception {     // create CamelContext     DefaultCamelContext camelContext = new DefaultCamelContext().     // bind beans to the Camel     bindBeans(camelContext.getRegistry()).     // add the routes     camelContext.addRoutes(this).     // start Camel     camelContext.start().     // create a producer so we can send messages to Camel     ProducerTemplate template = camelContext.createProducerTemplate().     Order order = new Order(2).     order.addItem(DrinkType.ESPRESSO, 2, true).     order.addItem(DrinkType.CAPPUCCINO, 4, false).     order.addItem(DrinkType.LATTE, 4, false).     order.addItem(DrinkType.MOCHA, 2, false).     template.sendBody("direct:cafe", order).     // wait 6 seconds and stop     Thread.sleep(6000).     camelContext.stop(). }
true;public;0;16;// START SNIPPET: RouteConfig ;// START SNIPPET: RouteConfig public void configure() {     from("direct:cafe").split().method("orderSplitter").to("direct:drink").     from("direct:drink").recipientList().method("drinkRouter").     from("seda:coldDrinks?concurrentConsumers=2").to("bean:barista?method=prepareColdDrink").to("direct:deliveries").     from("seda:hotDrinks?concurrentConsumers=3").to("bean:barista?method=prepareHotDrink").to("direct:deliveries").     from("direct:deliveries").aggregate(new CafeAggregationStrategy()).method("waiter", "checkOrder").completionTimeout(5 * 1000L).to("bean:waiter?method=prepareDelivery").to("bean:waiter?method=deliverCafes"). }
