commented;modifiers;parameterAmount;loc;comment;code
false;public;0;30;;@Override public void configure() {     restConfiguration().component("servlet").bindingMode(RestBindingMode.json).contextPath("/camel-example-ehcache-blueprint").port(8181).dataFormatProperty("prettyPrint", "true").     rest("/data").consumes("application/json").produces("application/json").get("/{id}").to("direct:getData").     // @formatter:off     from("direct:getData").routeId("ehcache-example-get").log("ID = ${header.id}").setHeader(EhcacheConstants.ACTION, constant(EhcacheConstants.ACTION_GET)).setHeader(EhcacheConstants.KEY, header("id").convertTo(Long.class)).to(EHCACHE_ENDPOINT).choice().when(header(EhcacheConstants.ACTION_HAS_RESULT).isNotEqualTo("true")).log("No cache hit. Fetching data from external service").to("bean:dataService?method=getData(${header.id})").setHeader(EhcacheConstants.ACTION, constant(EhcacheConstants.ACTION_PUT)).setHeader(EhcacheConstants.KEY, header("id").convertTo(Long.class)).to(EHCACHE_ENDPOINT).otherwise().log("Cache hit. Returning").endChoice(). // @formatter:on }
