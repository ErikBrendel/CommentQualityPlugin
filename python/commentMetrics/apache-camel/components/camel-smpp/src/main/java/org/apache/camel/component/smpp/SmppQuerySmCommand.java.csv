commented;modifiers;parameterAmount;loc;comment;code
false;public;1;31;;@Override public void execute(Exchange exchange) throws SmppException {     QuerySm querySm = createQuerySm(exchange).     if (log.isDebugEnabled()) {         log.debug("Querying for a short message for exchange id '{}' and message id '{}'...", exchange.getExchangeId(), querySm.getMessageId()).     }     QuerySmResult querySmResult.     try {         querySmResult = session.queryShortMessage(querySm.getMessageId(), TypeOfNumber.valueOf(querySm.getSourceAddrTon()), NumberingPlanIndicator.valueOf(querySm.getSourceAddrNpi()), querySm.getSourceAddr()).     } catch (Exception e) {         throw new SmppException(e).     }     if (log.isDebugEnabled()) {         log.debug("Query for a short message for exchange id '{}' and message id '{}'", exchange.getExchangeId(), querySm.getMessageId()).     }     Message message = getResponseMessage(exchange).     message.setHeader(SmppConstants.ID, querySm.getMessageId()).     message.setHeader(SmppConstants.ERROR, querySmResult.getErrorCode()).     message.setHeader(SmppConstants.FINAL_DATE, SmppUtils.string2Date(querySmResult.getFinalDate())).     message.setHeader(SmppConstants.MESSAGE_STATE, querySmResult.getMessageState().name()). }
false;protected;1;28;;protected QuerySm createQuerySm(Exchange exchange) {     Message in = exchange.getIn().     QuerySm querySm = new QuerySm().     if (in.getHeaders().containsKey(SmppConstants.ID)) {         querySm.setMessageId(in.getHeader(SmppConstants.ID, String.class)).     }     if (in.getHeaders().containsKey(SmppConstants.SOURCE_ADDR)) {         querySm.setSourceAddr(in.getHeader(SmppConstants.SOURCE_ADDR, String.class)).     } else {         querySm.setSourceAddr(config.getSourceAddr()).     }     if (in.getHeaders().containsKey(SmppConstants.SOURCE_ADDR_TON)) {         querySm.setSourceAddrTon(in.getHeader(SmppConstants.SOURCE_ADDR_TON, Byte.class)).     } else {         querySm.setSourceAddrTon(config.getSourceAddrTon()).     }     if (in.getHeaders().containsKey(SmppConstants.SOURCE_ADDR_NPI)) {         querySm.setSourceAddrNpi(in.getHeader(SmppConstants.SOURCE_ADDR_NPI, Byte.class)).     } else {         querySm.setSourceAddrNpi(config.getSourceAddrNpi()).     }     return querySm. }
