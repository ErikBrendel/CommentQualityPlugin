commented;modifiers;parameterAmount;loc;comment;code
false;protected;0;16;;@Override protected void doStart() throws Exception {     super.doStart().     this.value = getAtomixEndpoint().getAtomix().getValue(resourceName, new DistributedValue.Config(getAtomixEndpoint().getConfiguration().getResourceOptions(resourceName)), new DistributedValue.Options(getAtomixEndpoint().getConfiguration().getResourceConfig(resourceName))).join().     log.debug("Subscribe to events for value: {}", resourceName).     this.listeners.add(this.value.onChange(this::onEvent).join()). }
false;protected;0;7;;@Override protected void doStop() throws Exception {     // close listeners     listeners.forEach(Listener::close).     super.doStart(). }
false;private;1;17;;// ******************************************** // Event handler // ******************************************** private void onEvent(DistributedValue.ChangeEvent<Object> event) {     Exchange exchange = getEndpoint().createExchange().     exchange.getIn().setHeader(AtomixClientConstants.EVENT_TYPE, event.type()).     exchange.getIn().setHeader(AtomixClientConstants.RESOURCE_OLD_VALUE, event.oldValue()).     if (resultHeader == null) {         exchange.getIn().setBody(event.newValue()).     } else {         exchange.getIn().setHeader(resultHeader, event.newValue()).     }     try {         getProcessor().process(exchange).     } catch (Exception e) {         getExceptionHandler().handleException(e).     } }
