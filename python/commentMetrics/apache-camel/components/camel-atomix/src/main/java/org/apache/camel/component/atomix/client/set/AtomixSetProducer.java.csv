commented;modifiers;parameterAmount;loc;comment;code
false;;2;20;;// ********************************* // Handlers // ********************************* @InvokeOnHeader("ADD") boolean onAdd(Message message, AsyncCallback callback) throws Exception {     final DistributedSet<Object> set = getResource(message).     final long ttl = message.getHeader(RESOURCE_TTL, configuration::getTtl, long.class).     final Object val = message.getHeader(RESOURCE_VALUE, message::getBody, Object.class).     ObjectHelper.notNull(val, RESOURCE_VALUE).     if (ttl > 0) {         set.add(val, Duration.ofMillis(ttl)).thenAccept(result -> processResult(message, callback, result)).     } else {         set.add(val).thenAccept(result -> processResult(message, callback, result)).     }     return false. }
false;;2;10;;@InvokeOnHeader("CLEAR") boolean onClear(Message message, AsyncCallback callback) throws Exception {     final DistributedSet<Object> set = getResource(message).     set.clear().thenAccept(result -> processResult(message, callback, result)).     return false. }
false;;2;20;;@InvokeOnHeader("CONTAINS") boolean onContains(Message message, AsyncCallback callback) throws Exception {     final DistributedSet<Object> set = getResource(message).     final ReadConsistency consistency = message.getHeader(RESOURCE_READ_CONSISTENCY, configuration::getReadConsistency, ReadConsistency.class).     final Object value = message.getHeader(RESOURCE_VALUE, message::getBody, Object.class).     ObjectHelper.notNull(value, RESOURCE_VALUE).     if (consistency != null) {         set.contains(value, consistency).thenAccept(result -> processResult(message, callback, result)).     } else {         set.contains(value).thenAccept(result -> processResult(message, callback, result)).     }     return false. }
false;;2;17;;@InvokeOnHeader("IS_EMPTY") boolean onIsEmpty(Message message, AsyncCallback callback) throws Exception {     final DistributedSet<Object> set = getResource(message).     final ReadConsistency consistency = message.getHeader(RESOURCE_READ_CONSISTENCY, configuration::getReadConsistency, ReadConsistency.class).     if (consistency != null) {         set.isEmpty(consistency).thenAccept(result -> processResult(message, callback, result)).     } else {         set.isEmpty().thenAccept(result -> processResult(message, callback, result)).     }     return false. }
false;;2;13;;@InvokeOnHeader("REMOVE") boolean onRemove(Message message, AsyncCallback callback) throws Exception {     final DistributedSet<Object> set = getResource(message).     final Object value = message.getHeader(RESOURCE_VALUE, message::getBody, Object.class).     ObjectHelper.notNull(value, RESOURCE_VALUE).     set.remove(value).thenAccept(result -> processResult(message, callback, result)).     return false. }
false;;2;17;;@InvokeOnHeader("SIZE") boolean onSize(Message message, AsyncCallback callback) throws Exception {     final DistributedSet<Object> set = getResource(message).     final ReadConsistency consistency = message.getHeader(RESOURCE_READ_CONSISTENCY, configuration::getReadConsistency, ReadConsistency.class).     if (consistency != null) {         set.size(consistency).thenAccept(result -> processResult(message, callback, result)).     } else {         set.size().thenAccept(result -> processResult(message, callback, result)).     }     return false. }
false;protected;1;4;;// ********************************* // Implementation // ********************************* @Override protected String getProcessorKey(Message message) {     return message.getHeader(RESOURCE_ACTION, configuration::getDefaultAction, String.class). }
false;protected;1;4;;@Override protected String getResourceName(Message message) {     return message.getHeader(RESOURCE_NAME, getAtomixEndpoint()::getResourceName, String.class). }
false;protected;1;10;;@Override protected DistributedSet<Object> createResource(String resourceName) {     return getAtomixEndpoint().getAtomix().getSet(resourceName, new DistributedSet.Config(getAtomixEndpoint().getConfiguration().getResourceOptions(resourceName)), new DistributedSet.Options(getAtomixEndpoint().getConfiguration().getResourceConfig(resourceName))).join(). }
