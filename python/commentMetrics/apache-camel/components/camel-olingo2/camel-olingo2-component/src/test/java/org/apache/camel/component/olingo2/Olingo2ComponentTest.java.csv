# id;timestamp;commentText;codeText;commentWords;codeWords
Olingo2ComponentTest -> @Test     public void testProducerReadNoFilterAlreadySeen() throws Exception;1548683025;Read entity set of the People object_and with no filter already seen, all items_should be present in each message__@throws Exception;@Test_    public void testProducerReadNoFilterAlreadySeen() throws Exception {_        final Map<String, Object> headers = new HashMap<>()__        String endpoint = "direct:read-people-nofilterseen"__        int expectedMsgCount = 3___        int expectedEntities = -1__        for (int i = 0_ i < expectedMsgCount_ ++i) {_            final ODataFeed manufacturers = (ODataFeed)requestBodyAndHeaders(endpoint, null, headers)__            assertNotNull(manufacturers)__            if (i == 0) {_                expectedEntities = manufacturers.getEntries().size()__            }_        }__        MockEndpoint mockEndpoint = getMockEndpoint("mock:producer-noalreadyseen")__        mockEndpoint.expectedMessageCount(expectedMsgCount)__        mockEndpoint.assertIsSatisfied()___        for (int i = 0_ i < expectedMsgCount_ ++i) {_            Object body = mockEndpoint.getExchanges().get(i).getIn().getBody()__            assertTrue(body instanceof ODataFeed)__            ODataFeed set = (ODataFeed) body___            _            _            _            assertEquals(expectedEntities, set.getEntries().size())__        }_    };read,entity,set,of,the,people,object,and,with,no,filter,already,seen,all,items,should,be,present,in,each,message,throws,exception;test,public,void,test,producer,read,no,filter,already,seen,throws,exception,final,map,string,object,headers,new,hash,map,string,endpoint,direct,read,people,nofilterseen,int,expected,msg,count,3,int,expected,entities,1,for,int,i,0,i,expected,msg,count,i,final,odata,feed,manufacturers,odata,feed,request,body,and,headers,endpoint,null,headers,assert,not,null,manufacturers,if,i,0,expected,entities,manufacturers,get,entries,size,mock,endpoint,mock,endpoint,get,mock,endpoint,mock,producer,noalreadyseen,mock,endpoint,expected,message,count,expected,msg,count,mock,endpoint,assert,is,satisfied,for,int,i,0,i,expected,msg,count,i,object,body,mock,endpoint,get,exchanges,get,i,get,in,get,body,assert,true,body,instanceof,odata,feed,odata,feed,set,odata,feed,body,assert,equals,expected,entities,set,get,entries,size
Olingo2ComponentTest -> @Test     public void testProducerReadNoFilterAlreadySeen() throws Exception;1548833406;Read entity set of the People object and with no filter already seen, all_items should be present in each message__@throws Exception;@Test_    public void testProducerReadNoFilterAlreadySeen() throws Exception {_        final Map<String, Object> headers = new HashMap<>()__        String endpoint = "direct:read-people-nofilterseen"__        int expectedMsgCount = 3___        int expectedEntities = -1__        for (int i = 0_ i < expectedMsgCount_ ++i) {_            final ODataFeed manufacturers = (ODataFeed)requestBodyAndHeaders(endpoint, null, headers)__            assertNotNull(manufacturers)__            if (i == 0) {_                expectedEntities = manufacturers.getEntries().size()__            }_        }__        MockEndpoint mockEndpoint = getMockEndpoint("mock:producer-noalreadyseen")__        mockEndpoint.expectedMessageCount(expectedMsgCount)__        mockEndpoint.assertIsSatisfied()___        for (int i = 0_ i < expectedMsgCount_ ++i) {_            Object body = mockEndpoint.getExchanges().get(i).getIn().getBody()__            assertTrue(body instanceof ODataFeed)__            ODataFeed set = (ODataFeed)body___            _            _            _            assertEquals(expectedEntities, set.getEntries().size())__        }_    };read,entity,set,of,the,people,object,and,with,no,filter,already,seen,all,items,should,be,present,in,each,message,throws,exception;test,public,void,test,producer,read,no,filter,already,seen,throws,exception,final,map,string,object,headers,new,hash,map,string,endpoint,direct,read,people,nofilterseen,int,expected,msg,count,3,int,expected,entities,1,for,int,i,0,i,expected,msg,count,i,final,odata,feed,manufacturers,odata,feed,request,body,and,headers,endpoint,null,headers,assert,not,null,manufacturers,if,i,0,expected,entities,manufacturers,get,entries,size,mock,endpoint,mock,endpoint,get,mock,endpoint,mock,producer,noalreadyseen,mock,endpoint,expected,message,count,expected,msg,count,mock,endpoint,assert,is,satisfied,for,int,i,0,i,expected,msg,count,i,object,body,mock,endpoint,get,exchanges,get,i,get,in,get,body,assert,true,body,instanceof,odata,feed,odata,feed,set,odata,feed,body,assert,equals,expected,entities,set,get,entries,size
Olingo2ComponentTest -> @Test     public void testProducerReadNoFilterAlreadySeen() throws Exception;1550651978;Read entity set of the People object and with no filter already seen, all_items should be present in each message__@throws Exception;@Test_    public void testProducerReadNoFilterAlreadySeen() throws Exception {_        final Map<String, Object> headers = new HashMap<>()__        String endpoint = "direct:read-people-nofilterseen"__        int expectedMsgCount = 3___        MockEndpoint mockEndpoint = getMockEndpoint("mock:producer-noalreadyseen")__        mockEndpoint.expectedMessageCount(expectedMsgCount)___        int expectedEntities = -1__        for (int i = 0_ i < expectedMsgCount_ ++i) {_            final ODataFeed manufacturers = (ODataFeed)requestBodyAndHeaders(endpoint, null, headers)__            assertNotNull(manufacturers)__            if (i == 0) {_                expectedEntities = manufacturers.getEntries().size()__            }_        }__        mockEndpoint.assertIsSatisfied()___        for (int i = 0_ i < expectedMsgCount_ ++i) {_            Object body = mockEndpoint.getExchanges().get(i).getIn().getBody()__            assertTrue(body instanceof ODataFeed)__            ODataFeed set = (ODataFeed)body___            _            _            _            assertEquals(expectedEntities, set.getEntries().size())__        }_    };read,entity,set,of,the,people,object,and,with,no,filter,already,seen,all,items,should,be,present,in,each,message,throws,exception;test,public,void,test,producer,read,no,filter,already,seen,throws,exception,final,map,string,object,headers,new,hash,map,string,endpoint,direct,read,people,nofilterseen,int,expected,msg,count,3,mock,endpoint,mock,endpoint,get,mock,endpoint,mock,producer,noalreadyseen,mock,endpoint,expected,message,count,expected,msg,count,int,expected,entities,1,for,int,i,0,i,expected,msg,count,i,final,odata,feed,manufacturers,odata,feed,request,body,and,headers,endpoint,null,headers,assert,not,null,manufacturers,if,i,0,expected,entities,manufacturers,get,entries,size,mock,endpoint,assert,is,satisfied,for,int,i,0,i,expected,msg,count,i,object,body,mock,endpoint,get,exchanges,get,i,get,in,get,body,assert,true,body,instanceof,odata,feed,odata,feed,set,odata,feed,body,assert,equals,expected,entities,set,get,entries,size
Olingo2ComponentTest -> @Test     public void testProducerReadFilterAlreadySeen() throws Exception;1548683025;Read entity set of the People object_and filter already seen items on subsequent exchanges;@Test_    public void testProducerReadFilterAlreadySeen() throws Exception {_        final Map<String, Object> headers = new HashMap<>()__        String endpoint = "direct:read-people-filterseen"__        int expectedMsgCount = 3___        int expectedEntities = -1__        for (int i = 0_ i < expectedMsgCount_ ++i) {_            final ODataFeed manufacturers = (ODataFeed)requestBodyAndHeaders(endpoint, null, headers)__            assertNotNull(manufacturers)__            if (i == 0) {_                expectedEntities = manufacturers.getEntries().size()__            }_        }__        MockEndpoint mockEndpoint = getMockEndpoint("mock:producer-alreadyseen")__        mockEndpoint.expectedMessageCount(expectedMsgCount)__        mockEndpoint.assertIsSatisfied()___        for (int i = 0_ i < expectedMsgCount_ ++i) {_            Object body = mockEndpoint.getExchanges().get(i).getIn().getBody()__            assertTrue(body instanceof ODataFeed)__            ODataFeed set = (ODataFeed) body___            if (i == 0) {_                _                _                _                assertEquals(expectedEntities, set.getEntries().size())__            }_            else {_                _                _                _                _                assertEquals(0, set.getEntries().size())__            }_        }_    };read,entity,set,of,the,people,object,and,filter,already,seen,items,on,subsequent,exchanges;test,public,void,test,producer,read,filter,already,seen,throws,exception,final,map,string,object,headers,new,hash,map,string,endpoint,direct,read,people,filterseen,int,expected,msg,count,3,int,expected,entities,1,for,int,i,0,i,expected,msg,count,i,final,odata,feed,manufacturers,odata,feed,request,body,and,headers,endpoint,null,headers,assert,not,null,manufacturers,if,i,0,expected,entities,manufacturers,get,entries,size,mock,endpoint,mock,endpoint,get,mock,endpoint,mock,producer,alreadyseen,mock,endpoint,expected,message,count,expected,msg,count,mock,endpoint,assert,is,satisfied,for,int,i,0,i,expected,msg,count,i,object,body,mock,endpoint,get,exchanges,get,i,get,in,get,body,assert,true,body,instanceof,odata,feed,odata,feed,set,odata,feed,body,if,i,0,assert,equals,expected,entities,set,get,entries,size,else,assert,equals,0,set,get,entries,size
Olingo2ComponentTest -> @Test     public void testProducerReadFilterAlreadySeen() throws Exception;1548833406;Read entity set of the People object and filter already seen items on_subsequent exchanges;@Test_    public void testProducerReadFilterAlreadySeen() throws Exception {_        final Map<String, Object> headers = new HashMap<>()__        String endpoint = "direct:read-people-filterseen"__        int expectedMsgCount = 3___        int expectedEntities = -1__        for (int i = 0_ i < expectedMsgCount_ ++i) {_            final ODataFeed manufacturers = (ODataFeed)requestBodyAndHeaders(endpoint, null, headers)__            assertNotNull(manufacturers)__            if (i == 0) {_                expectedEntities = manufacturers.getEntries().size()__            }_        }__        MockEndpoint mockEndpoint = getMockEndpoint("mock:producer-alreadyseen")__        mockEndpoint.expectedMessageCount(expectedMsgCount)__        mockEndpoint.assertIsSatisfied()___        for (int i = 0_ i < expectedMsgCount_ ++i) {_            Object body = mockEndpoint.getExchanges().get(i).getIn().getBody()__            assertTrue(body instanceof ODataFeed)__            ODataFeed set = (ODataFeed)body___            if (i == 0) {_                _                _                _                assertEquals(expectedEntities, set.getEntries().size())__            } else {_                _                _                _                _                assertEquals(0, set.getEntries().size())__            }_        }_    };read,entity,set,of,the,people,object,and,filter,already,seen,items,on,subsequent,exchanges;test,public,void,test,producer,read,filter,already,seen,throws,exception,final,map,string,object,headers,new,hash,map,string,endpoint,direct,read,people,filterseen,int,expected,msg,count,3,int,expected,entities,1,for,int,i,0,i,expected,msg,count,i,final,odata,feed,manufacturers,odata,feed,request,body,and,headers,endpoint,null,headers,assert,not,null,manufacturers,if,i,0,expected,entities,manufacturers,get,entries,size,mock,endpoint,mock,endpoint,get,mock,endpoint,mock,producer,alreadyseen,mock,endpoint,expected,message,count,expected,msg,count,mock,endpoint,assert,is,satisfied,for,int,i,0,i,expected,msg,count,i,object,body,mock,endpoint,get,exchanges,get,i,get,in,get,body,assert,true,body,instanceof,odata,feed,odata,feed,set,odata,feed,body,if,i,0,assert,equals,expected,entities,set,get,entries,size,else,assert,equals,0,set,get,entries,size
Olingo2ComponentTest -> @Test     public void testProducerReadFilterAlreadySeen() throws Exception;1550651978;Read entity set of the People object and filter already seen items on_subsequent exchanges;@Test_    public void testProducerReadFilterAlreadySeen() throws Exception {_        final Map<String, Object> headers = new HashMap<>()__        String endpoint = "direct:read-people-filterseen"__        int expectedMsgCount = 3___        MockEndpoint mockEndpoint = getMockEndpoint("mock:producer-alreadyseen")__        mockEndpoint.expectedMessageCount(expectedMsgCount)___        int expectedEntities = -1__        for (int i = 0_ i < expectedMsgCount_ ++i) {_            final ODataFeed manufacturers = (ODataFeed)requestBodyAndHeaders(endpoint, null, headers)__            assertNotNull(manufacturers)__            if (i == 0) {_                expectedEntities = manufacturers.getEntries().size()__            }_        }__        mockEndpoint.assertIsSatisfied()___        for (int i = 0_ i < expectedMsgCount_ ++i) {_            Object body = mockEndpoint.getExchanges().get(i).getIn().getBody()__            assertTrue(body instanceof ODataFeed)__            ODataFeed set = (ODataFeed)body___            if (i == 0) {_                _                _                _                assertEquals(expectedEntities, set.getEntries().size())__            } else {_                _                _                _                _                assertEquals(0, set.getEntries().size())__            }_        }_    };read,entity,set,of,the,people,object,and,filter,already,seen,items,on,subsequent,exchanges;test,public,void,test,producer,read,filter,already,seen,throws,exception,final,map,string,object,headers,new,hash,map,string,endpoint,direct,read,people,filterseen,int,expected,msg,count,3,mock,endpoint,mock,endpoint,get,mock,endpoint,mock,producer,alreadyseen,mock,endpoint,expected,message,count,expected,msg,count,int,expected,entities,1,for,int,i,0,i,expected,msg,count,i,final,odata,feed,manufacturers,odata,feed,request,body,and,headers,endpoint,null,headers,assert,not,null,manufacturers,if,i,0,expected,entities,manufacturers,get,entries,size,mock,endpoint,assert,is,satisfied,for,int,i,0,i,expected,msg,count,i,object,body,mock,endpoint,get,exchanges,get,i,get,in,get,body,assert,true,body,instanceof,odata,feed,odata,feed,set,odata,feed,body,if,i,0,assert,equals,expected,entities,set,get,entries,size,else,assert,equals,0,set,get,entries,size
Olingo2ComponentTest -> @Test     public void testConsumerReadFilterAlreadySeen() throws Exception;1548683025;Read entity set of the People object_and filter already seen items on subsequent exchanges_Use a delay since the mock endpoint does not always get_the correct number of exchanges before being satisfied.;@Test_    public void testConsumerReadFilterAlreadySeen() throws Exception {_        final Map<String, Object> headers = new HashMap<>()__        String endpoint = "olingo2://read/Manufacturers?filterAlreadySeen=true&consumer.delay=2&consumer.sendEmptyMessageWhenIdle=true"__        final ODataFeed manufacturers = (ODataFeed)requestBodyAndHeaders(endpoint, null, headers)__        assertNotNull(manufacturers)__        int expectedManufacturers = manufacturers.getEntries().size()___        int expectedMsgCount = 3__        MockEndpoint mockEndpoint = getMockEndpoint("mock:consumer-alreadyseen")__        mockEndpoint.expectedMessageCount(expectedMsgCount)__        mockEndpoint.setResultWaitTime(60000)__        mockEndpoint.assertIsSatisfied()___        for (int i = 0_ i < expectedMsgCount_ ++i) {_            Object body = mockEndpoint.getExchanges().get(i).getIn().getBody()___            if (i == 0) {_                _                _                _                assertTrue(body instanceof ODataFeed)__                ODataFeed set = (ODataFeed) body__                assertEquals(expectedManufacturers, set.getEntries().size())__            }_            else {_                _                _                _                _                assertNull(body)__            }_        }_    };read,entity,set,of,the,people,object,and,filter,already,seen,items,on,subsequent,exchanges,use,a,delay,since,the,mock,endpoint,does,not,always,get,the,correct,number,of,exchanges,before,being,satisfied;test,public,void,test,consumer,read,filter,already,seen,throws,exception,final,map,string,object,headers,new,hash,map,string,endpoint,olingo2,read,manufacturers,filter,already,seen,true,consumer,delay,2,consumer,send,empty,message,when,idle,true,final,odata,feed,manufacturers,odata,feed,request,body,and,headers,endpoint,null,headers,assert,not,null,manufacturers,int,expected,manufacturers,manufacturers,get,entries,size,int,expected,msg,count,3,mock,endpoint,mock,endpoint,get,mock,endpoint,mock,consumer,alreadyseen,mock,endpoint,expected,message,count,expected,msg,count,mock,endpoint,set,result,wait,time,60000,mock,endpoint,assert,is,satisfied,for,int,i,0,i,expected,msg,count,i,object,body,mock,endpoint,get,exchanges,get,i,get,in,get,body,if,i,0,assert,true,body,instanceof,odata,feed,odata,feed,set,odata,feed,body,assert,equals,expected,manufacturers,set,get,entries,size,else,assert,null,body
Olingo2ComponentTest -> @Test     public void testConsumerReadFilterAlreadySeen() throws Exception;1548833406;Read entity set of the People object and filter already seen items on_subsequent exchanges Use a delay since the mock endpoint does not always_get the correct number of exchanges before being satisfied.;@Test_    public void testConsumerReadFilterAlreadySeen() throws Exception {_        final Map<String, Object> headers = new HashMap<>()__        String endpoint = "olingo2://read/Manufacturers?filterAlreadySeen=true&consumer.delay=2&consumer.sendEmptyMessageWhenIdle=true"__        final ODataFeed manufacturers = (ODataFeed)requestBodyAndHeaders(endpoint, null, headers)__        assertNotNull(manufacturers)__        int expectedManufacturers = manufacturers.getEntries().size()___        int expectedMsgCount = 3__        MockEndpoint mockEndpoint = getMockEndpoint("mock:consumer-alreadyseen")__        mockEndpoint.expectedMessageCount(expectedMsgCount)__        mockEndpoint.setResultWaitTime(60000)__        mockEndpoint.assertIsSatisfied()___        for (int i = 0_ i < expectedMsgCount_ ++i) {_            Object body = mockEndpoint.getExchanges().get(i).getIn().getBody()___            if (i == 0) {_                _                _                _                assertTrue(body instanceof ODataFeed)__                ODataFeed set = (ODataFeed)body__                assertEquals(expectedManufacturers, set.getEntries().size())__            } else {_                _                _                _                _                assertNull(body)__            }_        }_    };read,entity,set,of,the,people,object,and,filter,already,seen,items,on,subsequent,exchanges,use,a,delay,since,the,mock,endpoint,does,not,always,get,the,correct,number,of,exchanges,before,being,satisfied;test,public,void,test,consumer,read,filter,already,seen,throws,exception,final,map,string,object,headers,new,hash,map,string,endpoint,olingo2,read,manufacturers,filter,already,seen,true,consumer,delay,2,consumer,send,empty,message,when,idle,true,final,odata,feed,manufacturers,odata,feed,request,body,and,headers,endpoint,null,headers,assert,not,null,manufacturers,int,expected,manufacturers,manufacturers,get,entries,size,int,expected,msg,count,3,mock,endpoint,mock,endpoint,get,mock,endpoint,mock,consumer,alreadyseen,mock,endpoint,expected,message,count,expected,msg,count,mock,endpoint,set,result,wait,time,60000,mock,endpoint,assert,is,satisfied,for,int,i,0,i,expected,msg,count,i,object,body,mock,endpoint,get,exchanges,get,i,get,in,get,body,if,i,0,assert,true,body,instanceof,odata,feed,odata,feed,set,odata,feed,body,assert,equals,expected,manufacturers,set,get,entries,size,else,assert,null,body
Olingo2ComponentTest -> @Test     public void testConsumerReadFilterAlreadySeen() throws Exception;1550651978;Read entity set of the People object and filter already seen items on_subsequent exchanges Use a delay since the mock endpoint does not always_get the correct number of exchanges before being satisfied.__Note:_- consumer.splitResults is set to false since this ensures the first returned message_contains all the results. This is preferred for the purposes of this test. The default_will mean the first n messages contain the results (where n is the result total) then_subsequent messages will be empty;@Test_    public void testConsumerReadFilterAlreadySeen() throws Exception {_        final Map<String, Object> headers = new HashMap<>()__        String endpoint = "olingo2://read/Manufacturers?filterAlreadySeen=true&consumer.delay=2&consumer.sendEmptyMessageWhenIdle=true&consumer.splitResult=false"___        int expectedMsgCount = 3__        MockEndpoint mockEndpoint = getMockEndpoint("mock:consumer-alreadyseen")__        mockEndpoint.expectedMessageCount(expectedMsgCount)__        mockEndpoint.setResultWaitTime(60000)___        final ODataFeed manufacturers = (ODataFeed)requestBodyAndHeaders(endpoint, null, headers)__        assertNotNull(manufacturers)__        int expectedManufacturers = manufacturers.getEntries().size()___        mockEndpoint.assertIsSatisfied()___        for (int i = 0_ i < expectedMsgCount_ ++i) {_            Object body = mockEndpoint.getExchanges().get(i).getIn().getBody()___            if (i == 0) {_                _                _                _                assertTrue(body instanceof ODataFeed)__                ODataFeed set = (ODataFeed)body__                assertEquals(expectedManufacturers, set.getEntries().size())__            } else {_                _                _                _                _                assertNull(body)__            }_        }_    };read,entity,set,of,the,people,object,and,filter,already,seen,items,on,subsequent,exchanges,use,a,delay,since,the,mock,endpoint,does,not,always,get,the,correct,number,of,exchanges,before,being,satisfied,note,consumer,split,results,is,set,to,false,since,this,ensures,the,first,returned,message,contains,all,the,results,this,is,preferred,for,the,purposes,of,this,test,the,default,will,mean,the,first,n,messages,contain,the,results,where,n,is,the,result,total,then,subsequent,messages,will,be,empty;test,public,void,test,consumer,read,filter,already,seen,throws,exception,final,map,string,object,headers,new,hash,map,string,endpoint,olingo2,read,manufacturers,filter,already,seen,true,consumer,delay,2,consumer,send,empty,message,when,idle,true,consumer,split,result,false,int,expected,msg,count,3,mock,endpoint,mock,endpoint,get,mock,endpoint,mock,consumer,alreadyseen,mock,endpoint,expected,message,count,expected,msg,count,mock,endpoint,set,result,wait,time,60000,final,odata,feed,manufacturers,odata,feed,request,body,and,headers,endpoint,null,headers,assert,not,null,manufacturers,int,expected,manufacturers,manufacturers,get,entries,size,mock,endpoint,assert,is,satisfied,for,int,i,0,i,expected,msg,count,i,object,body,mock,endpoint,get,exchanges,get,i,get,in,get,body,if,i,0,assert,true,body,instanceof,odata,feed,odata,feed,set,odata,feed,body,assert,equals,expected,manufacturers,set,get,entries,size,else,assert,null,body
