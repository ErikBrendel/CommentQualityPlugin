commented;modifiers;parameterAmount;loc;comment;code
false;public,static;0;24;;@BeforeClass public static void beforeClass() throws Exception {     Configuration config = new ConfigurationImpl().     AddressSettings addressSettings = new AddressSettings().     // Disable auto create address to make sure that topic name is correct without prefix     addressSettings.setAutoCreateAddresses(false).     config.addAcceptorConfiguration("amqp", "tcp://0.0.0.0:" + amqpPort + "?tcpSendBufferSize=1048576.tcpReceiveBufferSize=1048576.protocols=AMQP.useEpoll=true.amqpCredits=1000.amqpMinCredits=300").     config.setPersistenceEnabled(false).     config.addAddressesSetting("#", addressSettings).     config.setSecurityEnabled(false).     // Set explicit topic name     CoreAddressConfiguration pingTopicConfig = new CoreAddressConfiguration().     pingTopicConfig.setName("topic.ping").     pingTopicConfig.addRoutingType(RoutingType.MULTICAST).     config.addAddressConfiguration(pingTopicConfig).     server.setConfiguration(config).     server.start().     System.setProperty(AMQP_PORT, amqpPort + "").     System.setProperty(AMQP_SET_TOPIC_PREFIX, "false"). }
false;public,static;0;4;;@AfterClass public static void afterClass() throws Exception {     server.stop(). }
false;public;0;6;;@Test public void testTopicWithoutPrefix() throws Exception {     resultEndpoint.expectedMessageCount(1).     template.sendBody("direct:send-topic", expectedBody).     resultEndpoint.assertIsSatisfied(). }
false;protected;0;6;;protected CamelContext createCamelContext() throws Exception {     CamelContext camelContext = super.createCamelContext().     camelContext.getRegistry().bind("amqpConnection", discoverAMQP(camelContext)).     camelContext.addComponent("amqp-customized", new AMQPComponent()).     return camelContext. }
false;public;0;8;;public void configure() throws Exception {     from("direct:send-topic").to("amqp-customized:topic:topic.ping").     from("amqp-customized:topic:topic.ping").to("log:routing").to("mock:result"). }
false;protected;0;12;;protected RouteBuilder createRouteBuilder() throws Exception {     return new RouteBuilder() {          public void configure() throws Exception {             from("direct:send-topic").to("amqp-customized:topic:topic.ping").             from("amqp-customized:topic:topic.ping").to("log:routing").to("mock:result").         }     }. }
