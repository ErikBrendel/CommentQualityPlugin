commented;modifiers;parameterAmount;loc;comment;code
false;public;0;55;;@Override @Before public void setUp() throws Exception {     super.setUp().     // super will insert 2 accounts already     Account account = new Account().     account.setId(881).     account.setFirstName("A").     account.setLastName("A").     account.setEmailAddress("a@gmail.com").     template.sendBody("mybatis:insertAccount?statementType=Insert", account).     account = new Account().     account.setId(882).     account.setFirstName("B").     account.setLastName("B").     account.setEmailAddress("b@gmail.com").     template.sendBody("mybatis:insertAccount?statementType=Insert", account).     account = new Account().     account.setId(883).     account.setFirstName("C").     account.setLastName("C").     account.setEmailAddress("c@gmail.com").     template.sendBody("mybatis:insertAccount?statementType=Insert", account).     account = new Account().     account.setId(884).     account.setFirstName("D").     account.setLastName("D").     account.setEmailAddress("d@gmail.com").     template.sendBody("mybatis:insertAccount?statementType=Insert", account).     account = new Account().     account.setId(885).     account.setFirstName("E").     account.setLastName("E").     account.setEmailAddress("e@gmail.com").     template.sendBody("mybatis:insertAccount?statementType=Insert", account).     account = new Account().     account.setId(886).     account.setFirstName("F").     account.setLastName("F").     account.setEmailAddress("f@gmail.com").     template.sendBody("mybatis:insertAccount?statementType=Insert", account). }
false;public;0;19;;@Test public void testShutdownAllTasks() throws Exception {     context.getRouteController().startRoute("route1").     MockEndpoint bar = getMockEndpoint("mock:bar").     bar.expectedMinimumMessageCount(1).     bar.setResultWaitTime(3000).     assertMockEndpointsSatisfied().     // shutdown during processing     context.stop().     // sleep a little     Thread.sleep(1000).     // should route all 8     assertEquals("Should complete all messages", 8, bar.getReceivedCounter()). }
false;public;0;9;;@Override public void configure() throws Exception {     from("mybatis:selectAllAccounts").noAutoStartup().routeId("route1").shutdownRunningTask(ShutdownRunningTask.CompleteAllTasks).delay(1000).to("seda:foo").     from("seda:foo").routeId("route2").to("mock:bar"). }
false;protected;0;14;;@Override protected RouteBuilder createRouteBuilder() throws Exception {     return new RouteBuilder() {          @Override         public void configure() throws Exception {             from("mybatis:selectAllAccounts").noAutoStartup().routeId("route1").shutdownRunningTask(ShutdownRunningTask.CompleteAllTasks).delay(1000).to("seda:foo").             from("seda:foo").routeId("route2").to("mock:bar").         }     }. }
