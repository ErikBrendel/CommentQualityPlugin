commented;modifiers;parameterAmount;loc;comment;code
false;public;0;31;;@Test public void testRepositories() {     Collection<HealthCheckRepository> repos = HealthCheckRegistry.get(context).getRepositories().     Assert.assertNotNull(repos).     Assert.assertEquals(2, repos.size()).     Assert.assertTrue(repos.stream().anyMatch(RegistryRepository.class::isInstance)).     Assert.assertTrue(repos.stream().anyMatch(RoutesHealthCheckRepository.class::isInstance)).     Optional<RoutesHealthCheckRepository> repo = repos.stream().filter(RoutesHealthCheckRepository.class::isInstance).map(RoutesHealthCheckRepository.class::cast).findFirst().     Assert.assertTrue(repo.isPresent()).     // default thresholds configuration     Assert.assertEquals(2, repo.get().evaluators().count()).     Assert.assertEquals(1, repo.get().evaluators().filter(RoutePerformanceCounterEvaluators.ExchangesFailed.class::isInstance).count()).     Assert.assertEquals(1, repo.get().evaluators().filter(RoutePerformanceCounterEvaluators.LastProcessingTime.class::isInstance).count()).     // route-1 does not inherit from default thresholds configuration     Assert.assertEquals(1, repo.get().evaluators("route-1").count()).     Assert.assertEquals(1, repo.get().evaluators("route-1").filter(RoutePerformanceCounterEvaluators.ExchangesInflight.class::isInstance).count()).     // route-2 inherits from default thresholds configuration     Assert.assertEquals(3, repo.get().evaluators("route-2").count()).     Assert.assertEquals(1, repo.get().evaluators("route-2").filter(RoutePerformanceCounterEvaluators.ExchangesFailed.class::isInstance).count()).     Assert.assertEquals(1, repo.get().evaluators("route-2").filter(RoutePerformanceCounterEvaluators.LastProcessingTime.class::isInstance).count()).     Assert.assertEquals(1, repo.get().evaluators("route-2").filter(RoutePerformanceCounterEvaluators.ExchangesInflight.class::isInstance).count()). }
