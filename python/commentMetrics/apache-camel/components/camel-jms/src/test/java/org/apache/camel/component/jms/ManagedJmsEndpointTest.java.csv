commented;modifiers;parameterAmount;loc;comment;code
false;protected;0;4;;@Override protected boolean useJmx() {     return true. }
false;protected;0;8;;protected CamelContext createCamelContext() throws Exception {     CamelContext context = new DefaultCamelContext().     ConnectionFactory connectionFactory = CamelJmsTestHelper.createPersistentConnectionFactory().     context.addComponent("activemq", jmsComponentAutoAcknowledge(connectionFactory)).     return context. }
false;protected;0;3;;protected MBeanServer getMBeanServer() {     return context.getManagementStrategy().getManagementAgent().getMBeanServer(). }
false;public;0;39;;@Test public void testJmsEndpoint() throws Exception {     MBeanServer mbeanServer = getMBeanServer().     Set<ObjectName> objectNames = mbeanServer.queryNames(new ObjectName("org.apache.camel:context=camel-*,type=endpoints,name=\"activemq://queue:start\""), null).     assertEquals(1, objectNames.size()).     ObjectName name = objectNames.iterator().next().     String uri = (String) mbeanServer.getAttribute(name, "EndpointUri").     assertEquals("activemq://queue:start", uri).     Boolean singleton = (Boolean) mbeanServer.getAttribute(name, "Singleton").     assertTrue(singleton.booleanValue()).     Integer running = (Integer) mbeanServer.getAttribute(name, "RunningMessageListeners").     assertEquals(1, running.intValue()).     Long size = (Long) mbeanServer.invoke(name, "queueSize", null, null).     assertEquals(0, size.intValue()).     getMockEndpoint("mock:result").expectedMessageCount(2).     template.sendBody("activemq:queue:start", "Hello World").     template.sendBody("activemq:queue:start", "Bye World").     assertMockEndpointsSatisfied().     // stop route     context.getRouteController().stopRoute("foo").     // send a message to queue     template.sendBody("activemq:queue:start", "Hi World").     size = (Long) mbeanServer.invoke(name, "queueSize", null, null).     assertEquals(1, size.intValue()).     String body = (String) mbeanServer.invoke(name, "browseMessageBody", new Object[] { 0 }, new String[] { "java.lang.Integer" }).     assertEquals("Hi World", body). }
false;public;0;4;;@Override public void configure() throws Exception {     from("activemq:queue:start").routeId("foo").to("log:foo").to("mock:result"). }
false;protected;0;9;;@Override protected RouteBuilder createRouteBuilder() throws Exception {     return new RouteBuilder() {          @Override         public void configure() throws Exception {             from("activemq:queue:start").routeId("foo").to("log:foo").to("mock:result").         }     }. }
