commented;modifiers;parameterAmount;loc;comment;code
false;protected;0;4;;protected ClassPathXmlApplicationContext createApplicationContext() {     return new ClassPathXmlApplicationContext("/org/apache/camel/component/jms/tx/JMSTransactionErrorHandlerTest.xml"). }
false;public;0;17;;@Test public void testTransactionSuccess() throws Exception {     MockEndpoint mock = getMockEndpoint("mock:result").     mock.expectedMessageCount(1).     mock.expectedBodiesReceived("Bye World").     // success at 3rd attempt     mock.message(0).header("count").isEqualTo(3).     // and since it was Camel doing the redelivery we should have headers for this     mock.message(0).header(Exchange.REDELIVERED).isEqualTo(true).     mock.message(0).header(Exchange.REDELIVERY_COUNTER).isEqualTo(2).     // and not JMS doing the redelivery     mock.message(0).header("JMSRedelivered").isEqualTo(false).     template.sendBody("activemq:queue:okay", "Hello World").     mock.assertIsSatisfied(). }
false;public;1;7;;public void process(Exchange exchange) throws Exception {     if (++count <= 2) {         throw new IllegalArgumentException("Forced Exception number " + count + ", please retry").     }     exchange.getIn().setBody("Bye World").     exchange.getIn().setHeader("count", count). }
