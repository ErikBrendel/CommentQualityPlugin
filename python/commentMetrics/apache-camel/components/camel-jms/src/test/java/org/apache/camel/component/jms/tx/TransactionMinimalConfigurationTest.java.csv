commented;modifiers;parameterAmount;loc;comment;code
false;protected;0;4;;protected ClassPathXmlApplicationContext createApplicationContext() {     return new ClassPathXmlApplicationContext("/org/apache/camel/component/jms/tx/TransactionMinimalConfigurationTest.xml"). }
false;public;0;17;;@Test public void testTransactionSuccess() throws Exception {     MockEndpoint mock = getMockEndpoint("mock:result").     mock.expectedMessageCount(1).     mock.expectedBodiesReceived("Bye World").     // success at 3rd attempt     mock.message(0).header("count").isEqualTo(3).     // since its JMS that does the redeliver we should test for that     mock.message(0).header("JMSRedelivered").isEqualTo(true).     // and not Camel doing the redelivery     mock.message(0).header(Exchange.REDELIVERED).isNull().     mock.message(0).header(Exchange.REDELIVERY_COUNTER).isNull().     template.sendBody("activemq:queue:okay", "Hello World").     mock.assertIsSatisfied(). }
false;public;1;7;;public void process(Exchange exchange) throws Exception {     if (++count <= 2) {         throw new IllegalArgumentException("Forced Exception number " + count + ", please retry").     }     exchange.getIn().setBody("Bye World").     exchange.getIn().setHeader("count", count). }
