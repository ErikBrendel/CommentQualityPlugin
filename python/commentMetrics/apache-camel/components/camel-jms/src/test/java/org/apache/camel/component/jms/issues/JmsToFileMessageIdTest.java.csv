commented;modifiers;parameterAmount;loc;comment;code
false;public;0;10;;@Test public void testFromJmsToFileAndMessageId() throws Exception {     // Mock endpoint to collect message at the end of the route     MockEndpoint mock = getMockEndpoint("mock:result").     mock.expectedMessageCount(1).     template.sendBody("activemq:foo", "Hello World").     assertMockEndpointsSatisfied(). }
false;protected;0;9;;@Override protected CamelContext createCamelContext() throws Exception {     CamelContext camelContext = super.createCamelContext().     ConnectionFactory connectionFactory = CamelJmsTestHelper.createConnectionFactory().     camelContext.addComponent("activemq", jmsComponentAutoAcknowledge(connectionFactory)).     return camelContext. }
false;public;1;4;;public void process(Exchange exchange) {     // in Camel 1.4 or older this caused a NPE     assertNotNull(exchange.getIn().getMessageId()). }
false;public;1;11;;public void process(Exchange exchange) throws Exception {     // assert camel id is based on jms id     String camelId = exchange.getIn().getMessageId().     assertNotNull(camelId).     JmsMessage jms = (JmsMessage) exchange.getIn().     String jmsId = jms.getJmsMessage().getJMSMessageID().     assertNotNull(jmsId).     assertEquals(jmsId, camelId). }
false;public;0;26;;@Override public void configure() throws Exception {     // Make a route from an activemq queue to a file endpoint, then try to call getMessageId()     from("activemq:foo").process(new Processor() {          public void process(Exchange exchange) throws Exception {             // assert camel id is based on jms id             String camelId = exchange.getIn().getMessageId().             assertNotNull(camelId).             JmsMessage jms = (JmsMessage) exchange.getIn().             String jmsId = jms.getJmsMessage().getJMSMessageID().             assertNotNull(jmsId).             assertEquals(jmsId, camelId).         }     }).to("file://target/tofile").process(new Processor() {          public void process(Exchange exchange) {             // in Camel 1.4 or older this caused a NPE             assertNotNull(exchange.getIn().getMessageId()).         }     }).to("mock:result"). }
false;protected;0;32;;@Override protected RouteBuilder createRouteBuilder() throws Exception {     return new RouteBuilder() {          @Override         public void configure() throws Exception {             // Make a route from an activemq queue to a file endpoint, then try to call getMessageId()             from("activemq:foo").process(new Processor() {                  public void process(Exchange exchange) throws Exception {                     // assert camel id is based on jms id                     String camelId = exchange.getIn().getMessageId().                     assertNotNull(camelId).                     JmsMessage jms = (JmsMessage) exchange.getIn().                     String jmsId = jms.getJmsMessage().getJMSMessageID().                     assertNotNull(jmsId).                     assertEquals(jmsId, camelId).                 }             }).to("file://target/tofile").process(new Processor() {                  public void process(Exchange exchange) {                     // in Camel 1.4 or older this caused a NPE                     assertNotNull(exchange.getIn().getMessageId()).                 }             }).to("mock:result").         }     }. }
