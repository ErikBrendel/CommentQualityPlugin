commented;modifiers;parameterAmount;loc;comment;code
false;public,static;0;4;;@BeforeClass public static void initPort() {     serverPort = AvailablePortFinder.getNextAvailable(). }
false;public;0;26;;@Test public void testSendingRawUDP() throws IOException, InterruptedException {     MockEndpoint mock = getMockEndpoint("mock:syslogReceiver").     MockEndpoint mock2 = getMockEndpoint("mock:syslogReceiver2").     mock.expectedMessageCount(1).     mock2.expectedMessageCount(1).     mock2.expectedBodiesReceived(message).     DatagramSocket socket = new DatagramSocket().     try {         InetAddress address = InetAddress.getByName("127.0.0.1").         for (int i = 0. i < messageCount. i++) {             byte[] data = message.getBytes().             DatagramPacket packet = new DatagramPacket(data, data.length, address, serverPort).             socket.send(packet).             Thread.sleep(100).         }     } finally {         socket.close().     }     assertMockEndpointsSatisfied(). }
false;public;1;3;;public void process(Exchange ex) {     assertTrue(ex.getIn().getBody() instanceof SyslogMessage). }
false;public;0;13;;public void configure() throws Exception {     // context.setTracing(true).     DataFormat syslogDataFormat = new SyslogDataFormat().     // we setup a Syslog  listener on a random port.     from("mina2:udp://127.0.0.1:" + serverPort).unmarshal(syslogDataFormat).process(new Processor() {          public void process(Exchange ex) {             assertTrue(ex.getIn().getBody() instanceof SyslogMessage).         }     }).to("mock:syslogReceiver").marshal(syslogDataFormat).to("mock:syslogReceiver2"). }
false;protected;0;18;;@Override protected RouteBuilder createRouteBuilder() throws Exception {     return new RouteBuilder() {          public void configure() throws Exception {             // context.setTracing(true).             DataFormat syslogDataFormat = new SyslogDataFormat().             // we setup a Syslog  listener on a random port.             from("mina2:udp://127.0.0.1:" + serverPort).unmarshal(syslogDataFormat).process(new Processor() {                  public void process(Exchange ex) {                     assertTrue(ex.getIn().getBody() instanceof SyslogMessage).                 }             }).to("mock:syslogReceiver").marshal(syslogDataFormat).to("mock:syslogReceiver2").         }     }. }
