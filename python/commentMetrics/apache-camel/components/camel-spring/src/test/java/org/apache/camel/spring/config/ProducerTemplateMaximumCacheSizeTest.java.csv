commented;modifiers;parameterAmount;loc;comment;code
false;public;0;25;;@Test public void testTemplateMaximumCache() throws Exception {     assertNotNull("Should have injected a producer template", template).     ProducerTemplate lookup = context.getRegistry().lookupByNameAndType("template", ProducerTemplate.class).     assertNotNull("Should lookup producer template", lookup).     assertEquals(50, template.getMaximumCacheSize()).     assertEquals("Size should be 0", 0, template.getCurrentCacheSize()).     // test that we cache at most 50 producers to avoid it eating to much memory     for (int i = 0. i < 53. i++) {         Endpoint e = context.getEndpoint("seda:queue:" + i).         template.sendBody(e, "Hello").     }     // the eviction is async so force cleanup     template.cleanUp().     assertEquals("Size should be 50", 50, template.getCurrentCacheSize()).     template.stop().     // should be 0     assertEquals("Size should be 0", 0, template.getCurrentCacheSize()). }
