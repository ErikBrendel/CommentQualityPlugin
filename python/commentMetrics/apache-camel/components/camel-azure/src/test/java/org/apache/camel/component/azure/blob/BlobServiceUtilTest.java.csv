commented;modifiers;parameterAmount;loc;comment;code
false;public;0;11;;@Test public void testPrepareUri() throws Exception {     registerCredentials().     BlobServiceComponent component = new BlobServiceComponent(context).     BlobServiceEndpoint endpoint = (BlobServiceEndpoint) component.createEndpoint("azure-blob://camelazure/container/blob?credentials=#creds").     URI uri = BlobServiceUtil.prepareStorageBlobUri(endpoint.getConfiguration()).     assertEquals("https://camelazure.blob.core.windows.net/container/blob", uri.toString()). }
false;public;0;12;;@Test public void testGetConfiguredClient() throws Exception {     CloudBlockBlob client = new CloudBlockBlob(URI.create("https://camelazure.blob.core.windows.net/container/blob")).     context.getRegistry().bind("azureBlobClient", client).     BlobServiceComponent component = new BlobServiceComponent(context).     BlobServiceEndpoint endpoint = (BlobServiceEndpoint) component.createEndpoint("azure-blob://camelazure/container/blob?azureBlobClient=#azureBlobClient&publicForRead=true").     assertSame(client, BlobServiceUtil.getConfiguredClient(endpoint.getConfiguration())). }
false;public;0;18;;@Test public void testGetConfiguredClientTypeMismatch() throws Exception {     CloudBlockBlob client = new CloudBlockBlob(URI.create("https://camelazure.blob.core.windows.net/container/blob")).     context.getRegistry().bind("azureBlobClient", client).     BlobServiceComponent component = new BlobServiceComponent(context).     BlobServiceEndpoint endpoint = (BlobServiceEndpoint) component.createEndpoint("azure-blob://camelazure/container/blob?azureBlobClient=#azureBlobClient&publicForRead=true" + "&blobType=appendBlob").     try {         BlobServiceUtil.getConfiguredClient(endpoint.getConfiguration()).         fail().     } catch (IllegalArgumentException ex) {         assertEquals("Invalid Client Type", ex.getMessage()).     } }
false;public;0;18;;@Test public void testGetConfiguredClientUriMismatch() throws Exception {     CloudAppendBlob client = new CloudAppendBlob(URI.create("https://camelazure.blob.core.windows.net/container/blob")).     context.getRegistry().bind("azureBlobClient", client).     BlobServiceComponent component = new BlobServiceComponent(context).     BlobServiceEndpoint endpoint = (BlobServiceEndpoint) component.createEndpoint("azure-blob://camelazure/container/blob2?azureBlobClient=#azureBlobClient&publicForRead=true" + "&blobType=appendBlob").     try {         BlobServiceUtil.getConfiguredClient(endpoint.getConfiguration()).         fail().     } catch (IllegalArgumentException ex) {         assertEquals("Invalid Client URI", ex.getMessage()).     } }
false;private;0;5;;private void registerCredentials() {     StorageCredentials creds = new StorageCredentialsAccountAndKey("camelazure", Base64.encode("key".getBytes())).     context.getRegistry().bind("creds", creds). }
