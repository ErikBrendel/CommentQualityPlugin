commented;modifiers;parameterAmount;loc;comment;code
false;protected;3;20;;@Override protected Message getResponseMessage(Exchange exchange, ChannelHandlerContext ctx, Object message) throws Exception {     FullHttpResponse response = (FullHttpResponse) message.     if (!HttpUtil.isKeepAlive(response)) {         // just want to make sure we close the channel if the keepAlive is not true         exchange.setProperty(NettyConstants.NETTY_CLOSE_CHANNEL_WHEN_COMPLETE, true).     }     // handle cookies     if (producer.getEndpoint().getCookieHandler() != null) {         String actualUri = exchange.getIn().getHeader(Exchange.HTTP_URL, String.class).         URI uri = new URI(actualUri).         Map<String, List<String>> m = new HashMap<>().         for (String name : response.headers().names()) {             m.put(name, response.headers().getAll(name)).         }         producer.getEndpoint().getCookieHandler().storeCookies(exchange, uri, m).     }     // use the binding     return producer.getEndpoint().getNettyHttpBinding().toCamelMessage(response, exchange, producer.getConfiguration()). }
