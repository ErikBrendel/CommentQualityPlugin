commented;modifiers;parameterAmount;loc;comment;code
false;public;0;8;;@Before public void setUp() throws Exception {     applicationContext = new ClassPathXmlApplicationContext("org/apache/camel/component/cxf/jaxrs/CxfRsProducerClientFactoryCacheTest1.xml").     context1 = SpringCamelContext.springCamelContext(applicationContext, false).     context1.start().     template1 = context1.createProducerTemplate().     template1.start(). }
false;public;0;11;;@After public void tearDown() throws Exception {     if (context1 != null) {         context1.stop().         template1.stop().     }     // need to shutdown the application context to shutdown the bus     if (applicationContext != null) {         applicationContext.close().     } }
false;public;0;4;;@Test public void testGetCostumerWithHttpCentralClientAPI() throws Exception {     doRunTest(template1, getPort1()). }
false;public;1;10;;public void process(Exchange exchange) throws Exception {     exchange.setPattern(ExchangePattern.InOut).     Message inMessage = exchange.getIn().     inMessage.setHeader(CxfConstants.CAMEL_CXF_RS_USING_HTTP_API, Boolean.TRUE).     inMessage.setHeader(Exchange.HTTP_METHOD, "GET").     inMessage.setHeader(Exchange.HTTP_PATH, "/customerservice/customers/123").     inMessage.setHeader(CxfConstants.CAMEL_CXF_RS_RESPONSE_CLASS, Customer.class).     inMessage.setHeader("clientPort", clientPort).     inMessage.setBody(null). }
false;private;2;22;;private void doRunTest(ProducerTemplate template, final int clientPort) {     Exchange exchange = template.send("direct://http", new Processor() {          public void process(Exchange exchange) throws Exception {             exchange.setPattern(ExchangePattern.InOut).             Message inMessage = exchange.getIn().             inMessage.setHeader(CxfConstants.CAMEL_CXF_RS_USING_HTTP_API, Boolean.TRUE).             inMessage.setHeader(Exchange.HTTP_METHOD, "GET").             inMessage.setHeader(Exchange.HTTP_PATH, "/customerservice/customers/123").             inMessage.setHeader(CxfConstants.CAMEL_CXF_RS_RESPONSE_CLASS, Customer.class).             inMessage.setHeader("clientPort", clientPort).             inMessage.setBody(null).         }     }).     // get the response message     Customer response = (Customer) exchange.getOut().getBody().     assertNotNull("The response should not be null ", response).     assertEquals("Get a wrong customer id ", String.valueOf(response.getId()), "123").     assertEquals("Get a wrong customer name", response.getName(), "John").     assertEquals("Get a wrong response code", 200, exchange.getOut().getHeader(Exchange.HTTP_RESPONSE_CODE)). }
false;public;0;3;;public int getPort1() {     return port1. }
