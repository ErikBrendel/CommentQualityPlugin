commented;modifiers;parameterAmount;loc;comment;code
false;;2;27;;void onResponse(Exchange exchange, SpanCustomizer span) {     String id = exchange.getExchangeId().     String mep = exchange.getPattern().name().     span.tag("camel.server.endpoint.url", url).     span.tag("camel.server.exchange.id", id).     span.tag("camel.server.exchange.pattern", mep).     if (exchange.getException() != null) {         String message = exchange.getException().getMessage().         span.tag("camel.server.exchange.failure", message).     } else if (eventNotifier.isIncludeMessageBody() || eventNotifier.isIncludeMessageBodyStreams()) {         boolean streams = eventNotifier.isIncludeMessageBodyStreams().         StreamCache cache = prepareBodyForLogging(exchange, streams).         String body = MessageHelper.extractBodyForLogging(exchange.hasOut() ? exchange.getOut() : exchange.getIn(), "", streams, streams).         span.tag("camel.server.exchange.message.response.body", body).         if (cache != null) {             cache.reset().         }     }     // lets capture http response code for http based components     String responseCode = exchange.hasOut() ? exchange.getOut().getHeader(Exchange.HTTP_RESPONSE_CODE, String.class) : exchange.getIn().getHeader(Exchange.HTTP_RESPONSE_CODE, String.class).     if (responseCode != null) {         span.tag("camel.server.exchange.message.response.code", responseCode).     } }
