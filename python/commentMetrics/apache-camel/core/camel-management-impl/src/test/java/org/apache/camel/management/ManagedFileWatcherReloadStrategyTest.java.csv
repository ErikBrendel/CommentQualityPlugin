commented;modifiers;parameterAmount;loc;comment;code
false;public;0;21;;@Test public void testReloadStrategy() throws Exception {     // JMX tests dont work well on AIX CI servers (hangs them)     if (isPlatform("aix")) {         return.     }     MBeanServer mbeanServer = getMBeanServer().     ObjectName on = ObjectName.getInstance("org.apache.camel:context=camel-1,type=services,name=FileWatcherReloadStrategy").     assertTrue(mbeanServer.isRegistered(on)).     String folder = (String) mbeanServer.getAttribute(on, "Folder").     assertEquals("target/data/dummy", folder).     Integer reload = (Integer) mbeanServer.getAttribute(on, "ReloadCounter").     assertEquals(0, reload.intValue()).     Integer failed = (Integer) mbeanServer.getAttribute(on, "FailedCounter").     assertEquals(0, failed.intValue()). }
false;public;0;12;;@Override public void configure() throws Exception {     // directory must exists for the watcher to be able to run     deleteDirectory("target/data/dummy").     createDirectory("target/data/dummy").     // add reload strategy     context.setReloadStrategy(new FileWatcherReloadStrategy("target/data/dummy")).     from("direct:start").to("mock:result"). }
false;protected;0;17;;@Override protected RouteBuilder createRouteBuilder() throws Exception {     return new RouteBuilder() {          @Override         public void configure() throws Exception {             // directory must exists for the watcher to be able to run             deleteDirectory("target/data/dummy").             createDirectory("target/data/dummy").             // add reload strategy             context.setReloadStrategy(new FileWatcherReloadStrategy("target/data/dummy")).             from("direct:start").to("mock:result").         }     }. }
