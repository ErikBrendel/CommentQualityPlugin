commented;modifiers;parameterAmount;loc;comment;code
false;public;0;52;;@Test public void testStreamCachingStrategy() throws Exception {     // JMX tests dont work well on AIX CI servers (hangs them)     if (isPlatform("aix")) {         return.     }     MBeanServer mbeanServer = getMBeanServer().     ObjectName on = ObjectName.getInstance("org.apache.camel:context=myCamel,type=services,*").     // number of services     Set<ObjectName> names = mbeanServer.queryNames(on, null).     ObjectName name = null.     for (ObjectName service : names) {         if (service.toString().contains("DefaultStreamCachingStrategy")) {             name = service.             break.         }     }     assertNotNull("Cannot find DefaultStreamCachingStrategy", name).     Boolean enabled = (Boolean) mbeanServer.getAttribute(name, "Enabled").     assertEquals(Boolean.TRUE, enabled).     String dir = (String) mbeanServer.getAttribute(name, "SpoolDirectory").     assertEquals(normalizePath("target/data/cachedir/myCamel"), normalizePath(dir)).     Long threshold = (Long) mbeanServer.getAttribute(name, "SpoolThreshold").     assertEquals(StreamCache.DEFAULT_SPOOL_THRESHOLD, threshold.longValue()).     Integer size = (Integer) mbeanServer.getAttribute(name, "BufferSize").     assertEquals(IOHelper.DEFAULT_BUFFER_SIZE, size.intValue()).     Long counter = (Long) mbeanServer.getAttribute(name, "CacheMemoryCounter").     assertEquals(0, counter.longValue()).     counter = (Long) mbeanServer.getAttribute(name, "CacheSpoolCounter").     assertEquals(0, counter.longValue()).     Long cacheSize = (Long) mbeanServer.getAttribute(name, "CacheMemorySize").     assertEquals(0, cacheSize.longValue()).     cacheSize = (Long) mbeanServer.getAttribute(name, "CacheSpoolSize").     assertEquals(0, cacheSize.longValue()).     String chiper = (String) mbeanServer.getAttribute(name, "SpoolChiper").     assertNull(chiper).     Boolean remove = (Boolean) mbeanServer.getAttribute(name, "RemoveSpoolDirectoryWhenStopping").     assertEquals(Boolean.TRUE, remove). }
false;public;0;12;;@Override public void configure() throws Exception {     DefaultCamelContext dcc = (DefaultCamelContext) context.     dcc.setName("myCamel").     context.setStreamCaching(true).     context.getStreamCachingStrategy().setSpoolDirectory("target/data/cachedir/#name#/").     from("direct:start").routeId("foo").convertBodyTo(int.class).to("mock:a"). }
false;protected;0;17;;@Override protected RouteBuilder createRouteBuilder() throws Exception {     return new RouteBuilder() {          @Override         public void configure() throws Exception {             DefaultCamelContext dcc = (DefaultCamelContext) context.             dcc.setName("myCamel").             context.setStreamCaching(true).             context.getStreamCachingStrategy().setSpoolDirectory("target/data/cachedir/#name#/").             from("direct:start").routeId("foo").convertBodyTo(int.class).to("mock:a").         }     }. }
