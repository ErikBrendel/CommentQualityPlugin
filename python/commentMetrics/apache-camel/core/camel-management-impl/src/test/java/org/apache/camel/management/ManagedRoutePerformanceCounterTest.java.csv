commented;modifiers;parameterAmount;loc;comment;code
false;public;0;63;;@Test public void testPerformanceCounterStats() throws Exception {     // JMX tests dont work well on AIX CI servers (hangs them)     if (isPlatform("aix")) {         return.     }     // get the stats for the route     MBeanServer mbeanServer = getMBeanServer().     ObjectName on = ObjectName.getInstance("org.apache.camel:context=camel-1,type=routes,name=\"route1\"").     Long delta = (Long) mbeanServer.getAttribute(on, "DeltaProcessingTime").     assertEquals(0, delta.intValue()).     getMockEndpoint("mock:result").expectedMessageCount(1).     template.asyncSendBody("direct:start", "Hello World").     // cater for slow boxes     await().atMost(5, TimeUnit.SECONDS).until(() -> {         Long num = (Long) mbeanServer.getAttribute(on, "ExchangesInflight").         return num == 1L.     }).     assertMockEndpointsSatisfied().     await().atMost(5, TimeUnit.SECONDS).untilAsserted(() -> {         Long completed = (Long) mbeanServer.getAttribute(on, "ExchangesCompleted").         assertEquals(1, completed.longValue()).     }).     delta = (Long) mbeanServer.getAttribute(on, "DeltaProcessingTime").     Long last = (Long) mbeanServer.getAttribute(on, "LastProcessingTime").     Long total = (Long) mbeanServer.getAttribute(on, "TotalProcessingTime").     assertNotNull(delta).     assertTrue("Should take around 1 sec: was " + last, last > 900).     assertTrue("Should take around 1 sec: was " + total, total > 900).     // send in another message     template.sendBody("direct:start", "Bye World").     Long completed = (Long) mbeanServer.getAttribute(on, "ExchangesCompleted").     assertEquals(2, completed.longValue()).     delta = (Long) mbeanServer.getAttribute(on, "DeltaProcessingTime").     last = (Long) mbeanServer.getAttribute(on, "LastProcessingTime").     total = (Long) mbeanServer.getAttribute(on, "TotalProcessingTime").     assertNotNull(delta).     assertTrue("Should take around 1 sec: was " + last, last > 900).     assertTrue("Should be around 2 sec now: was " + total, total > 1900).     Date reset = (Date) mbeanServer.getAttribute(on, "ResetTimestamp").     assertNotNull(reset).     Date lastFailed = (Date) mbeanServer.getAttribute(on, "LastExchangeFailureTimestamp").     Date firstFailed = (Date) mbeanServer.getAttribute(on, "FirstExchangeFailureTimestamp").     assertNull(lastFailed).     assertNull(firstFailed).     Long inFlight = (Long) mbeanServer.getAttribute(on, "ExchangesInflight").     assertEquals(0L, inFlight.longValue()). }
false;public;0;4;;@Override public void configure() throws Exception {     from("direct:start").to("log:foo").delay(1000).to("mock:result"). }
false;protected;0;9;;@Override protected RouteBuilder createRouteBuilder() throws Exception {     return new RouteBuilder() {          @Override         public void configure() throws Exception {             from("direct:start").to("log:foo").delay(1000).to("mock:result").         }     }. }
