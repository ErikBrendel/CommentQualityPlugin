commented;modifiers;parameterAmount;loc;comment;code
false;public;0;31;;@Test public void testRemove() throws Exception {     // JMX tests dont work well on AIX CI servers (hangs them)     if (isPlatform("aix")) {         return.     }     MBeanServer mbeanServer = getMBeanServer().     ObjectName on = ObjectName.getInstance("org.apache.camel:context=camel-1,type=routes,name=\"foo\"").     getMockEndpoint("mock:result").expectedMessageCount(1).     template.sendBody("direct:foo", "Hello World").     assertMockEndpointsSatisfied().     // remember number of thread pools before     Set<ObjectName> before = mbeanServer.queryNames(new ObjectName("*:type=threadpools,*"), null).     // stop and remove route     mbeanServer.invoke(on, "stop", null, null).     mbeanServer.invoke(on, "remove", null, null).     // should not be registered anymore     boolean registered = mbeanServer.isRegistered(on).     assertFalse("Route mbean should have been unregistered", registered).     // and no wire tap thread pool as we use an existing external pool     Set<ObjectName> after = mbeanServer.queryNames(new ObjectName("*:type=threadpools,*"), null).     // there should be 1 less thread pool     assertTrue("There should be one less thread pool", before.size() - 1 == after.size()). }
false;public;0;6;;@Override public void configure() throws Exception {     from("direct:foo").routeId("foo").aggregate(constant(true), new UseLatestAggregationStrategy()).completionTimeout(1000).to("mock:result"). }
false;protected;0;11;;@Override protected RouteBuilder createRouteBuilder() throws Exception {     return new RouteBuilder() {          @Override         public void configure() throws Exception {             from("direct:foo").routeId("foo").aggregate(constant(true), new UseLatestAggregationStrategy()).completionTimeout(1000).to("mock:result").         }     }. }
