commented;modifiers;parameterAmount;loc;comment;code
false;public;0;6;;@Override @Before public void setUp() throws Exception {     deleteDirectory("target/data/enrich").     super.setUp(). }
false;public;0;4;;@Override public boolean isUseRouteBuilder() {     return false. }
false;public;0;24;;@Test public void testPollingConsumer() throws Exception {     template.sendBodyAndHeader("file:target/data/enrich", "Hello World", Exchange.FILE_NAME, "hello.txt").     PollingConsumer consumer = context.getEndpoint("file:target/data/enrich").createPollingConsumer().     consumer.start().     Exchange exchange = consumer.receive(5000).     assertNotNull(exchange).     assertEquals("Hello World", exchange.getIn().getBody(String.class)).     // sleep a bit to ensure polling consumer would be suspended after we have used it     Thread.sleep(500).     // drop a new file which should not be picked up by the consumer     template.sendBodyAndHeader("file:target/data/enrich", "Bye World", Exchange.FILE_NAME, "bye.txt").     // sleep a bit to ensure polling consumer would not have picked up that file     Thread.sleep(1000).     File file = new File("target/data/enrich/bye.txt").     assertTrue("File should exist " + file, file.exists()).     consumer.stop(). }
