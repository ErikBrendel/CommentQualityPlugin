commented;modifiers;parameterAmount;loc;comment;code
false;protected;0;6;;@Override protected JndiRegistry createRegistry() throws Exception {     JndiRegistry jndi = super.createRegistry().     jndi.bind("dummy-test", new DummyRestConsumerFactory()).     return jndi. }
false;protected;0;3;;protected int getExpectedNumberOfRoutes() {     return 3. }
false;public;0;30;;@Test public void testFromRestModel() throws Exception {     assertEquals(getExpectedNumberOfRoutes(), context.getRoutes().size()).     assertEquals(2, context.getRestDefinitions().size()).     RestDefinition rest = context.getRestDefinitions().get(0).     assertNotNull(rest).     assertEquals("/say/hello", rest.getPath()).     assertEquals(1, rest.getVerbs().size()).     ToDefinition to = assertIsInstanceOf(ToDefinition.class, rest.getVerbs().get(0).getRoute().getOutputs().get(0)).     assertEquals("mock:hello", to.getUri()).     rest = context.getRestDefinitions().get(1).     assertNotNull(rest).     assertEquals("/say/bye", rest.getPath()).     assertEquals(2, rest.getVerbs().size()).     assertEquals("application/json", rest.getVerbs().get(0).getConsumes()).     to = assertIsInstanceOf(ToDefinition.class, rest.getVerbs().get(0).getRoute().getOutputs().get(0)).     assertEquals("mock:bye", to.getUri()).     // the rest becomes routes and the input is a seda endpoint created by the DummyRestConsumerFactory     getMockEndpoint("mock:update").expectedMessageCount(1).     template.sendBody("seda:post-say-bye", "I was here").     assertMockEndpointsSatisfied().     String out = template.requestBody("seda:get-say-hello", "Me", String.class).     assertEquals("Hello World", out).     String out2 = template.requestBody("seda:get-say-bye", "Me", String.class).     assertEquals("Bye World", out2). }
false;public;0;18;;@Override public void configure() throws Exception {     restConfiguration().host("localhost").     rest("/say/hello").get().route().to("mock:hello").transform(constant("Hello World")).     rest("/say/bye").get().consumes("application/json").route().to("mock:bye").transform(constant("Bye World")).endRest().post().to("mock:update"). }
false;protected;0;23;;@Override protected RouteBuilder createRouteBuilder() throws Exception {     return new RouteBuilder() {          @Override         public void configure() throws Exception {             restConfiguration().host("localhost").             rest("/say/hello").get().route().to("mock:hello").transform(constant("Hello World")).             rest("/say/bye").get().consumes("application/json").route().to("mock:bye").transform(constant("Bye World")).endRest().post().to("mock:update").         }     }. }
