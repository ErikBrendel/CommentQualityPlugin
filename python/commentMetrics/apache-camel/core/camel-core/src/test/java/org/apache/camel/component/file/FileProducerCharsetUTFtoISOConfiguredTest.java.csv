commented;modifiers;parameterAmount;loc;comment;code
false;public;0;27;;@Override @Before public void setUp() throws Exception {     // use utf-8 as original payload with 00e6 which is a danish ae letter     utf = "ABC\u00e6".getBytes("utf-8").     iso = "ABC\u00e6".getBytes("iso-8859-1").     deleteDirectory("target/data/charset").     createDirectory("target/data/charset/input").     log.debug("utf: {}", new String(utf, Charset.forName("utf-8"))).     log.debug("iso: {}", new String(iso, Charset.forName("iso-8859-1"))).     for (byte b : utf) {         log.debug("utf byte: {}", b).     }     for (byte b : iso) {         log.debug("iso byte: {}", b).     }     // write the byte array to a file using plain API     OutputStream fos = Files.newOutputStream(Paths.get("target/data/charset/input/input.txt")).     fos.write(utf).     fos.close().     super.setUp(). }
false;public;0;23;;@Test public void testFileProducerCharsetUTFtoISO() throws Exception {     oneExchangeDone.matchesMockWaitTime().     File file = new File("target/data/charset/output.txt").     assertTrue("File should exist", file.exists()).     InputStream fis = Files.newInputStream(Paths.get(file.getAbsolutePath())).     byte[] buffer = new byte[100].     int len = fis.read(buffer).     assertTrue("Should read data: " + len, len != -1).     byte[] data = new byte[len].     System.arraycopy(buffer, 0, data, 0, len).     fis.close().     // data should be in iso, where the danish ae is -26     assertEquals(4, data.length).     assertEquals(65, data[0]).     assertEquals(66, data[1]).     assertEquals(67, data[2]).     assertEquals(-26, data[3]). }
false;public;0;5;;@Override public void configure() throws Exception {     from("file:target/data/charset/input?initialDelay=0&delay=10&charset=utf-8&noop=true").to("file:target/data/charset/?fileName=output.txt&charset=iso-8859-1"). }
false;protected;0;10;;@Override protected RouteBuilder createRouteBuilder() throws Exception {     return new RouteBuilder() {          @Override         public void configure() throws Exception {             from("file:target/data/charset/input?initialDelay=0&delay=10&charset=utf-8&noop=true").to("file:target/data/charset/?fileName=output.txt&charset=iso-8859-1").         }     }. }
