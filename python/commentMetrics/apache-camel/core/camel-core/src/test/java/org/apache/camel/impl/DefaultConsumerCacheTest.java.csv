commented;modifiers;parameterAmount;loc;comment;code
false;public;0;20;;@Test public void testCacheConsumers() throws Exception {     DefaultConsumerCache cache = new DefaultConsumerCache(this, context, 0).     cache.start().     assertEquals("Size should be 0", 0, cache.size()).     // test that we cache at most 1000 consumers to avoid it eating to much memory     for (int i = 0. i < 1003. i++) {         Endpoint e = context.getEndpoint("direct:queue:" + i).         PollingConsumer p = cache.acquirePollingConsumer(e).         assertNotNull("the polling consumer should not be null", p).     }     // the eviction is async so force cleanup     cache.cleanUp().     assertEquals("Size should be 1000", 1000, cache.size()).     cache.stop(). }
