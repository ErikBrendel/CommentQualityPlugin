commented;modifiers;parameterAmount;loc;comment;code
false;protected;0;6;;@Override protected JndiRegistry createRegistry() throws Exception {     JndiRegistry jndi = super.createRegistry().     jndi.bind("dummy-rest", new DummyRestConsumerFactory()).     return jndi. }
false;public;1;4;;@Override public void process(Exchange exchange) throws Exception {     exchange.getIn().setBody("I was here"). }
false;public;0;20;;@Test public void testCors() throws Exception {     // the rest becomes routes and the input is a seda endpoint created by the DummyRestConsumerFactory     getMockEndpoint("mock:update").expectedMessageCount(1).     Exchange out = template.request("seda:post-say-bye", new Processor() {          @Override         public void process(Exchange exchange) throws Exception {             exchange.getIn().setBody("I was here").         }     }).     assertNotNull(out).     assertEquals(out.getOut().getHeader("Access-Control-Allow-Origin"), "myserver").     assertEquals(out.getOut().getHeader("Access-Control-Allow-Methods"), RestConfiguration.CORS_ACCESS_CONTROL_ALLOW_METHODS).     assertEquals(out.getOut().getHeader("Access-Control-Allow-Headers"), RestConfiguration.CORS_ACCESS_CONTROL_ALLOW_HEADERS).     assertEquals(out.getOut().getHeader("Access-Control-Max-Age"), "180").     assertMockEndpointsSatisfied(). }
false;public;0;19;;@Override public void configure() throws Exception {     restConfiguration().host("localhost").     restConfiguration().enableCORS(true).corsHeaderProperty("Access-Control-Allow-Origin", "myserver").     restConfiguration().enableCORS(true).corsHeaderProperty("Access-Control-Max-Age", "180").     rest("/say/hello").get().to("direct:hello").     rest("/say/bye").get().consumes("application/json").to("direct:bye").post().to("mock:update").     from("direct:hello").transform().constant("Hello World").     from("direct:bye").transform().constant("Bye World"). }
false;protected;0;24;;@Override protected RouteBuilder createRouteBuilder() throws Exception {     return new RouteBuilder() {          @Override         public void configure() throws Exception {             restConfiguration().host("localhost").             restConfiguration().enableCORS(true).corsHeaderProperty("Access-Control-Allow-Origin", "myserver").             restConfiguration().enableCORS(true).corsHeaderProperty("Access-Control-Max-Age", "180").             rest("/say/hello").get().to("direct:hello").             rest("/say/bye").get().consumes("application/json").to("direct:bye").post().to("mock:update").             from("direct:hello").transform().constant("Hello World").             from("direct:bye").transform().constant("Bye World").         }     }. }
