commented;modifiers;parameterAmount;loc;comment;code
false;public;0;4;;@Override public void configure() throws Exception {     from("seda:foo?blockWhenFull=true").routeId("foo2").to("mock:foo2"). }
false;public;0;38;;@Test public void testSedaComponentReference() throws Exception {     SedaComponent seda = context.getComponent("seda", SedaComponent.class).     String key = seda.getQueueKey("seda://foo").     assertEquals(1, seda.getQueues().get(key).getCount()).     assertEquals(2, numberOfReferences(seda)).     // add a second consumer on the endpoint     context.addRoutes(new RouteBuilder() {          @Override         public void configure() throws Exception {             from("seda:foo?blockWhenFull=true").routeId("foo2").to("mock:foo2").         }     }).     assertEquals(2, seda.getQueues().get(key).getCount()).     assertEquals(3, numberOfReferences(seda)).     // remove the 1st route     context.getRouteController().stopRoute("foo").     context.removeRoute("foo").     assertEquals(1, seda.getQueues().get(key).getCount()).     assertEquals(2, numberOfReferences(seda)).     // remove the 2nd route     context.getRouteController().stopRoute("foo2").     context.removeRoute("foo2").     // and there is no longer queues for the foo key     assertNull(seda.getQueues().get(key)).     // there should still be a bar     assertEquals(1, numberOfReferences(seda)).     key = seda.getQueueKey("seda://bar").     assertEquals(1, seda.getQueues().get(key).getCount()). }
false;public;0;6;;@Override public void configure() throws Exception {     from("seda:foo").routeId("foo").to("mock:foo").     from("seda:bar").routeId("bar").to("mock:bar"). }
false;protected;0;11;;@Override protected RouteBuilder createRouteBuilder() throws Exception {     return new RouteBuilder() {          @Override         public void configure() throws Exception {             from("seda:foo").routeId("foo").to("mock:foo").             from("seda:bar").routeId("bar").to("mock:bar").         }     }. }
false;private;1;8;;private int numberOfReferences(SedaComponent seda) {     int num = 0.     Iterator<QueueReference> it = seda.getQueues().values().iterator().     while (it.hasNext()) {         num += it.next().getCount().     }     return num. }
