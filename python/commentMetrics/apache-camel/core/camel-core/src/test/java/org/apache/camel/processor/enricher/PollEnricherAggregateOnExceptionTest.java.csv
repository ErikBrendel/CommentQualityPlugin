commented;modifiers;parameterAmount;loc;comment;code
false;public;0;11;;@Test public void testEnrichTrueOk() throws Exception {     template.sendBody("seda:foo", "Hello World").     MockEndpoint mock = getMockEndpoint("mock:result").     mock.expectedBodiesReceived("Hello World").     template.sendBody("direct:start", "World").     assertMockEndpointsSatisfied(). }
false;public;1;4;;@Override public void process(Exchange exchange) throws Exception {     exchange.setException(new IllegalArgumentException("I cannot do this")). }
false;public;0;16;;@Test public void testEnrichTrueKaboom() throws Exception {     template.send("seda:foo", new Processor() {          @Override         public void process(Exchange exchange) throws Exception {             exchange.setException(new IllegalArgumentException("I cannot do this")).         }     }).     MockEndpoint mock = getMockEndpoint("mock:result").     mock.expectedBodiesReceived("I cannot do this").     template.sendBody("direct:start", "Kaboom").     assertMockEndpointsSatisfied(). }
false;public;0;11;;@Test public void testEnrichFalseOk() throws Exception {     template.sendBody("seda:foo", "Hello World").     MockEndpoint mock = getMockEndpoint("mock:result").     mock.expectedBodiesReceived("Hello World").     template.sendBody("direct:start2", "World").     assertMockEndpointsSatisfied(). }
false;public;1;4;;@Override public void process(Exchange exchange) throws Exception {     exchange.setException(new IllegalArgumentException("I cannot do this")). }
false;public;0;22;;@Test public void testEnrichFalseKaboom() throws Exception {     template.send("seda:foo", new Processor() {          @Override         public void process(Exchange exchange) throws Exception {             exchange.setException(new IllegalArgumentException("I cannot do this")).         }     }).     MockEndpoint mock = getMockEndpoint("mock:result").     mock.expectedMessageCount(0).     try {         template.sendBody("direct:start2", "Kaboom").         fail("Should have thrown exception").     } catch (CamelExecutionException e) {         assertIsInstanceOf(IllegalArgumentException.class, e.getCause()).         assertEquals("I cannot do this", e.getCause().getMessage()).     }     assertMockEndpointsSatisfied(). }
false;public;0;10;;@Override public void configure() throws Exception {     from("direct:start").pollEnrich("seda:foo", 5000, new MyAggregationStrategy(), true).to("mock:result").     from("direct:start2").pollEnrich("seda:foo", 5000, new MyAggregationStrategy(), false).to("mock:result"). }
false;protected;0;15;;@Override protected RouteBuilder createRouteBuilder() throws Exception {     return new RouteBuilder() {          @Override         public void configure() throws Exception {             from("direct:start").pollEnrich("seda:foo", 5000, new MyAggregationStrategy(), true).to("mock:result").             from("direct:start2").pollEnrich("seda:foo", 5000, new MyAggregationStrategy(), false).to("mock:result").         }     }. }
false;public;2;11;;@Override public Exchange aggregate(Exchange oldExchange, Exchange newExchange) {     if (newExchange.getException() != null) {         oldExchange.getIn().setBody(newExchange.getException().getMessage()).         return oldExchange.     }     // replace body     oldExchange.getIn().setBody(newExchange.getIn().getBody()).     return oldExchange. }
