commented;modifiers;parameterAmount;loc;comment;code
false;public;0;8;;@Override @Before public void setUp() throws Exception {     super.setUp().     startEnd = getMockEndpoint("mock:startEnd").     splitEnd = getMockEndpoint("mock:splitEnd").     wiretapEnd = getMockEndpoint("mock:wireTapEnd"). }
false;public;0;11;;@Test public void testWireTapAfterSplitDeletesStreamCacheFileWhenSplitFinishes() throws Exception {     startEnd.expectedMessageCount(1).     splitEnd.expectedMessageCount(1).     wiretapEnd.expectedMessageCount(1).     // test.txt should contain more than one character     template.sendBody("direct:start", "text").     assertMockEndpointsSatisfied(). }
false;public;0;28;;@Override public void configure() throws Exception {     StreamCachingStrategy streamCachingStrategy = new DefaultStreamCachingStrategy().     streamCachingStrategy.setSpoolThreshold(1L).     context.setStreamCachingStrategy(streamCachingStrategy).     context.setStreamCaching(true).     from("direct:start").split(bodyAs(String.class).tokenize()).to("direct:split").to("mock:startEnd").end().     from("direct:split").wireTap("direct:wireTap").delay(1000).to("mock:splitEnd").     from("direct:wireTap").setBody(constant(this.getClass().getResourceAsStream("/log4j2.properties"))).delay(3000).to("mock:wireTapEnd"). }
false;protected;0;33;;@Override protected RouteBuilder createRouteBuilder() throws Exception {     return new RouteBuilder() {          @Override         public void configure() throws Exception {             StreamCachingStrategy streamCachingStrategy = new DefaultStreamCachingStrategy().             streamCachingStrategy.setSpoolThreshold(1L).             context.setStreamCachingStrategy(streamCachingStrategy).             context.setStreamCaching(true).             from("direct:start").split(bodyAs(String.class).tokenize()).to("direct:split").to("mock:startEnd").end().             from("direct:split").wireTap("direct:wireTap").delay(1000).to("mock:splitEnd").             from("direct:wireTap").setBody(constant(this.getClass().getResourceAsStream("/log4j2.properties"))).delay(3000).to("mock:wireTapEnd").         }     }. }
