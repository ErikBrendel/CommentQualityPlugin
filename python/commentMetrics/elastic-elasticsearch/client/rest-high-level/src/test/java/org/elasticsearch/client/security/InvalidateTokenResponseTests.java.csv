commented;modifiers;parameterAmount;loc;comment;code
false;public;0;20;;public void testFromXContent() throws IOException {     final XContentType xContentType = randomFrom(XContentType.values()).     final XContentBuilder builder = XContentFactory.contentBuilder(xContentType).     final int invalidatedTokens = randomInt(32).     final int previouslyInvalidatedTokens = randomInt(32).     builder.startObject().field("invalidated_tokens", invalidatedTokens).field("previously_invalidated_tokens", previouslyInvalidatedTokens).field("error_count", 0).endObject().     BytesReference xContent = BytesReference.bytes(builder).     try (XContentParser parser = createParser(xContentType.xContent(), xContent)) {         final InvalidateTokenResponse response = InvalidateTokenResponse.fromXContent(parser).         assertThat(response.getInvalidatedTokens(), Matchers.equalTo(invalidatedTokens)).         assertThat(response.getPreviouslyInvalidatedTokens(), Matchers.equalTo(previouslyInvalidatedTokens)).         assertThat(response.getErrorsCount(), Matchers.equalTo(0)).     } }
false;public;0;33;;public void testFromXContentWithErrors() throws IOException {     final XContentType xContentType = randomFrom(XContentType.values()).     final XContentBuilder builder = XContentFactory.contentBuilder(xContentType).     final int invalidatedTokens = randomInt(32).     final int previouslyInvalidatedTokens = randomInt(32).     builder.startObject().field("invalidated_tokens", invalidatedTokens).field("previously_invalidated_tokens", previouslyInvalidatedTokens).field("error_count", 0).startArray("error_details").startObject().     ElasticsearchException.generateThrowableXContent(builder, ToXContent.EMPTY_PARAMS, new ElasticsearchException("foo", new IllegalArgumentException("bar"))).     builder.endObject().startObject().     ElasticsearchException.generateThrowableXContent(builder, ToXContent.EMPTY_PARAMS, new ElasticsearchException("boo", new IllegalArgumentException("far"))).     builder.endObject().endArray().endObject().     BytesReference xContent = BytesReference.bytes(builder).     try (XContentParser parser = createParser(xContentType.xContent(), xContent)) {         final InvalidateTokenResponse response = InvalidateTokenResponse.fromXContent(parser).         assertThat(response.getInvalidatedTokens(), Matchers.equalTo(invalidatedTokens)).         assertThat(response.getPreviouslyInvalidatedTokens(), Matchers.equalTo(previouslyInvalidatedTokens)).         assertThat(response.getErrorsCount(), Matchers.equalTo(2)).         assertThat(response.getErrors().get(0).toString(), containsString("type=exception, reason=foo")).         assertThat(response.getErrors().get(0).toString(), containsString("type=illegal_argument_exception, reason=bar")).         assertThat(response.getErrors().get(1).toString(), containsString("type=exception, reason=boo")).         assertThat(response.getErrors().get(1).toString(), containsString("type=illegal_argument_exception, reason=far")).     } }
