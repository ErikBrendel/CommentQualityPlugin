commented;modifiers;parameterAmount;loc;comment;code
false;public;2;6;;@Override public void channelRead(final ChannelHandlerContext ctx, final Object msg) {     assert msg instanceof FullHttpRequest : "Invalid message type: " + msg.getClass().     HttpPipelinedRequest<FullHttpRequest> pipelinedRequest = aggregator.read(((FullHttpRequest) msg)).     ctx.fireChannelRead(pipelinedRequest). }
false;public;3;20;;@Override public void write(final ChannelHandlerContext ctx, final Object msg, final ChannelPromise promise) {     assert msg instanceof NioHttpResponse : "Invalid message type: " + msg.getClass().     NioHttpResponse response = (NioHttpResponse) msg.     boolean success = false.     try {         NettyListener listener = NettyListener.fromChannelPromise(promise).         List<Tuple<NioHttpResponse, NettyListener>> readyResponses = aggregator.write(response, listener).         success = true.         for (Tuple<NioHttpResponse, NettyListener> responseToWrite : readyResponses) {             ctx.write(responseToWrite.v1(), responseToWrite.v2()).         }     } catch (IllegalStateException e) {         ctx.channel().close().     } finally {         if (success == false) {             promise.setFailure(new ClosedChannelException()).         }     } }
false;public;2;16;;@Override public void close(ChannelHandlerContext ctx, ChannelPromise promise) {     List<Tuple<NioHttpResponse, NettyListener>> inflightResponses = aggregator.removeAllInflightResponses().     if (inflightResponses.isEmpty() == false) {         ClosedChannelException closedChannelException = new ClosedChannelException().         for (Tuple<NioHttpResponse, NettyListener> inflightResponse : inflightResponses) {             try {                 inflightResponse.v2().setFailure(closedChannelException).             } catch (RuntimeException e) {                 logger.error("unexpected error while releasing pipelined http responses", e).             }         }     }     ctx.close(promise). }
