commented;modifiers;parameterAmount;loc;comment;code
false;public;0;4;;@Before public void setUpAction() {     new RestGetMappingAction(Settings.EMPTY, controller()). }
false;public;0;13;;public void testTypeExistsDeprecation() throws Exception {     Map<String, String> params = new HashMap<>().     params.put("type", "_doc").     RestRequest request = new FakeRestRequest.Builder(xContentRegistry()).withMethod(RestRequest.Method.HEAD).withParams(params).build().     RestGetMappingAction handler = new RestGetMappingAction(Settings.EMPTY, mock(RestController.class)).     handler.prepareRequest(request, mock(NodeClient.class)).     assertWarnings("Type exists requests are deprecated, as types have been deprecated."). }
false;public;0;18;;public void testTypeInPath() {     // Test that specifying a type while setting include_type_name to false     // results in an illegal argument exception.     Map<String, String> params = new HashMap<>().     params.put(INCLUDE_TYPE_NAME_PARAMETER, "false").     RestRequest request = new FakeRestRequest.Builder(xContentRegistry()).withMethod(RestRequest.Method.GET).withPath("some_index/some_type/_mapping/some_field").withParams(params).build().     FakeRestChannel channel = new FakeRestChannel(request, false, 1).     ThreadContext threadContext = new ThreadContext(Settings.EMPTY).     controller().dispatchRequest(request, channel, threadContext).     assertEquals(1, channel.errors().get()).     assertEquals(RestStatus.BAD_REQUEST, channel.capturedResponse().status()). }
true;public;0;15;/**  * Setting "include_type_name" to true or false should cause a deprecation warning starting in 7.0  */ ;/**  * Setting "include_type_name" to true or false should cause a deprecation warning starting in 7.0  */ public void testTypeUrlParameterDeprecation() throws Exception {     Map<String, String> params = new HashMap<>().     params.put(INCLUDE_TYPE_NAME_PARAMETER, Boolean.toString(randomBoolean())).     RestRequest request = new FakeRestRequest.Builder(xContentRegistry()).withMethod(RestRequest.Method.GET).withParams(params).withPath("/some_index/_mappings").build().     FakeRestChannel channel = new FakeRestChannel(request, false, 1).     ThreadContext threadContext = new ThreadContext(Settings.EMPTY).     controller().dispatchRequest(request, channel, threadContext).     assertWarnings(RestGetMappingAction.TYPES_DEPRECATION_MESSAGE). }
