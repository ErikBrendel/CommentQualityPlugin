commented;modifiers;parameterAmount;loc;comment;code
false;public;0;17;;public void testSerialization() throws Exception {     final CloseIndexRequest request = randomRequest().     try (BytesStreamOutput out = new BytesStreamOutput()) {         request.writeTo(out).         final CloseIndexRequest deserializedRequest = new CloseIndexRequest().         try (StreamInput in = out.bytes().streamInput()) {             deserializedRequest.readFrom(in).         }         assertEquals(request.timeout(), deserializedRequest.timeout()).         assertEquals(request.masterNodeTimeout(), deserializedRequest.masterNodeTimeout()).         assertEquals(request.indicesOptions(), deserializedRequest.indicesOptions()).         assertEquals(request.getParentTask(), deserializedRequest.getParentTask()).         assertEquals(request.waitForActiveShards(), deserializedRequest.waitForActiveShards()).         assertArrayEquals(request.indices(), deserializedRequest.indices()).     } }
false;public;0;39;;public void testBwcSerialization() throws Exception {     {         final CloseIndexRequest request = randomRequest().         try (BytesStreamOutput out = new BytesStreamOutput()) {             out.setVersion(randomVersionBetween(random(), Version.V_6_4_0, VersionUtils.getPreviousVersion(Version.V_7_1_0))).             request.writeTo(out).             try (StreamInput in = out.bytes().streamInput()) {                 assertEquals(request.getParentTask(), TaskId.readFromStream(in)).                 assertEquals(request.masterNodeTimeout(), in.readTimeValue()).                 assertEquals(request.timeout(), in.readTimeValue()).                 assertArrayEquals(request.indices(), in.readStringArray()).                 assertEquals(request.indicesOptions(), IndicesOptions.readIndicesOptions(in)).             }         }     }     {         final CloseIndexRequest sample = randomRequest().         try (BytesStreamOutput out = new BytesStreamOutput()) {             sample.getParentTask().writeTo(out).             out.writeTimeValue(sample.masterNodeTimeout()).             out.writeTimeValue(sample.timeout()).             out.writeStringArray(sample.indices()).             sample.indicesOptions().writeIndicesOptions(out).             final CloseIndexRequest deserializedRequest = new CloseIndexRequest().             try (StreamInput in = out.bytes().streamInput()) {                 in.setVersion(randomVersionBetween(random(), Version.V_6_4_0, VersionUtils.getPreviousVersion(Version.V_7_1_0))).                 deserializedRequest.readFrom(in).             }             assertEquals(sample.getParentTask(), deserializedRequest.getParentTask()).             assertEquals(sample.masterNodeTimeout(), deserializedRequest.masterNodeTimeout()).             assertEquals(sample.timeout(), deserializedRequest.timeout()).             assertArrayEquals(sample.indices(), deserializedRequest.indices()).             assertEquals(sample.indicesOptions(), deserializedRequest.indicesOptions()).             assertEquals(ActiveShardCount.NONE, deserializedRequest.waitForActiveShards()).         }     } }
false;private;0;21;;private CloseIndexRequest randomRequest() {     CloseIndexRequest request = new CloseIndexRequest().     request.indices(generateRandomStringArray(10, 5, false, false)).     if (randomBoolean()) {         request.indicesOptions(IndicesOptions.fromOptions(randomBoolean(), randomBoolean(), randomBoolean(), randomBoolean())).     }     if (randomBoolean()) {         request.timeout(randomPositiveTimeValue()).     }     if (randomBoolean()) {         request.masterNodeTimeout(randomPositiveTimeValue()).     }     if (randomBoolean()) {         request.setParentTask(randomAlphaOfLength(5), randomNonNegativeLong()).     }     if (randomBoolean()) {         request.waitForActiveShards(randomFrom(ActiveShardCount.DEFAULT, ActiveShardCount.NONE, ActiveShardCount.ONE, ActiveShardCount.ALL)).     }     return request. }
