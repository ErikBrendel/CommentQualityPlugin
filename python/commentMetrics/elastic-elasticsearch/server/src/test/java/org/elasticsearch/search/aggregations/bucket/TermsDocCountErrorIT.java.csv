# id;timestamp;commentText;codeText;commentWords;codeWords
TermsDocCountErrorIT -> public void testFixedDocs() throws Exception;1524684173;Test a case where we know exactly how many of each term is on each shard_so we know the exact error value for each term. To do this we search over_3 one-shard indices.;public void testFixedDocs() throws Exception {_        SearchResponse response = client().prepareSearch("idx_fixed_docs_0", "idx_fixed_docs_1", "idx_fixed_docs_2").setTypes("type")_                .addAggregation(terms("terms")_                        .executionHint(randomExecutionHint())_                        .field(STRING_FIELD_NAME)_                        .showTermDocCountError(true)_                        .size(5).shardSize(5)_                        .collectMode(randomFrom(SubAggCollectionMode.values())))_                .execute().actionGet()__        assertSearchResponse(response)___        Terms terms = response.getAggregations().get("terms")__        assertThat(terms, notNullValue())__        assertThat(terms.getDocCountError(), equalTo(46L))__        List<? extends Bucket> buckets = terms.getBuckets()__        assertThat(buckets, notNullValue())__        assertThat(buckets.size(), equalTo(5))___        Bucket bucket = buckets.get(0)__        assertThat(bucket, notNullValue())__        assertThat(bucket.getKey(), equalTo("A"))__        assertThat(bucket.getDocCount(), equalTo(100L))__        assertThat(bucket.getDocCountError(), equalTo(0L))___        bucket = buckets.get(1)__        assertThat(bucket, notNullValue())__        assertThat(bucket.getKey(), equalTo("Z"))__        assertThat(bucket.getDocCount(), equalTo(52L))__        assertThat(bucket.getDocCountError(), equalTo(2L))___        bucket = buckets.get(2)__        assertThat(bucket, notNullValue())__        assertThat(bucket.getKey(), equalTo("C"))__        assertThat(bucket.getDocCount(), equalTo(50L))__        assertThat(bucket.getDocCountError(), equalTo(15L))____        bucket = buckets.get(3)__        assertThat(bucket, notNullValue())__        assertThat(bucket.getKey(), equalTo("G"))__        assertThat(bucket.getDocCount(), equalTo(45L))__        assertThat(bucket.getDocCountError(), equalTo(2L))___        bucket = buckets.get(4)__        assertThat(bucket, notNullValue())__        assertThat(bucket.getKey(), equalTo("B"))__        assertThat(bucket.getDocCount(), equalTo(43L))__        assertThat(bucket.getDocCountError(), equalTo(29L))__    };test,a,case,where,we,know,exactly,how,many,of,each,term,is,on,each,shard,so,we,know,the,exact,error,value,for,each,term,to,do,this,we,search,over,3,one,shard,indices;public,void,test,fixed,docs,throws,exception,search,response,response,client,prepare,search,set,types,type,add,aggregation,terms,terms,execution,hint,random,execution,hint,field,show,term,doc,count,error,true,size,5,shard,size,5,collect,mode,random,from,sub,agg,collection,mode,values,execute,action,get,assert,search,response,response,terms,terms,response,get,aggregations,get,terms,assert,that,terms,not,null,value,assert,that,terms,get,doc,count,error,equal,to,46l,list,extends,bucket,buckets,terms,get,buckets,assert,that,buckets,not,null,value,assert,that,buckets,size,equal,to,5,bucket,bucket,buckets,get,0,assert,that,bucket,not,null,value,assert,that,bucket,get,key,equal,to,a,assert,that,bucket,get,doc,count,equal,to,100l,assert,that,bucket,get,doc,count,error,equal,to,0l,bucket,buckets,get,1,assert,that,bucket,not,null,value,assert,that,bucket,get,key,equal,to,z,assert,that,bucket,get,doc,count,equal,to,52l,assert,that,bucket,get,doc,count,error,equal,to,2l,bucket,buckets,get,2,assert,that,bucket,not,null,value,assert,that,bucket,get,key,equal,to,c,assert,that,bucket,get,doc,count,equal,to,50l,assert,that,bucket,get,doc,count,error,equal,to,15l,bucket,buckets,get,3,assert,that,bucket,not,null,value,assert,that,bucket,get,key,equal,to,g,assert,that,bucket,get,doc,count,equal,to,45l,assert,that,bucket,get,doc,count,error,equal,to,2l,bucket,buckets,get,4,assert,that,bucket,not,null,value,assert,that,bucket,get,key,equal,to,b,assert,that,bucket,get,doc,count,equal,to,43l,assert,that,bucket,get,doc,count,error,equal,to,29l
TermsDocCountErrorIT -> public void testFixedDocs() throws Exception;1528762805;Test a case where we know exactly how many of each term is on each shard_so we know the exact error value for each term. To do this we search over_3 one-shard indices.;public void testFixedDocs() throws Exception {_        SearchResponse response = client().prepareSearch("idx_fixed_docs_0", "idx_fixed_docs_1", "idx_fixed_docs_2").setTypes("type")_                .addAggregation(terms("terms")_                        .executionHint(randomExecutionHint())_                        .field(STRING_FIELD_NAME)_                        .showTermDocCountError(true)_                        .size(5).shardSize(5)_                        .collectMode(randomFrom(SubAggCollectionMode.values())))_                .execute().actionGet()__        assertSearchResponse(response)___        Terms terms = response.getAggregations().get("terms")__        assertThat(terms, notNullValue())__        assertThat(terms.getDocCountError(), equalTo(46L))__        List<? extends Bucket> buckets = terms.getBuckets()__        assertThat(buckets, notNullValue())__        assertThat(buckets.size(), equalTo(5))___        Bucket bucket = buckets.get(0)__        assertThat(bucket, notNullValue())__        assertThat(bucket.getKey(), equalTo("A"))__        assertThat(bucket.getDocCount(), equalTo(100L))__        assertThat(bucket.getDocCountError(), equalTo(0L))___        bucket = buckets.get(1)__        assertThat(bucket, notNullValue())__        assertThat(bucket.getKey(), equalTo("Z"))__        assertThat(bucket.getDocCount(), equalTo(52L))__        assertThat(bucket.getDocCountError(), equalTo(2L))___        bucket = buckets.get(2)__        assertThat(bucket, notNullValue())__        assertThat(bucket.getKey(), equalTo("C"))__        assertThat(bucket.getDocCount(), equalTo(50L))__        assertThat(bucket.getDocCountError(), equalTo(15L))____        bucket = buckets.get(3)__        assertThat(bucket, notNullValue())__        assertThat(bucket.getKey(), equalTo("G"))__        assertThat(bucket.getDocCount(), equalTo(45L))__        assertThat(bucket.getDocCountError(), equalTo(2L))___        bucket = buckets.get(4)__        assertThat(bucket, notNullValue())__        assertThat(bucket.getKey(), equalTo("B"))__        assertThat(bucket.getDocCount(), equalTo(43L))__        assertThat(bucket.getDocCountError(), equalTo(29L))__    };test,a,case,where,we,know,exactly,how,many,of,each,term,is,on,each,shard,so,we,know,the,exact,error,value,for,each,term,to,do,this,we,search,over,3,one,shard,indices;public,void,test,fixed,docs,throws,exception,search,response,response,client,prepare,search,set,types,type,add,aggregation,terms,terms,execution,hint,random,execution,hint,field,show,term,doc,count,error,true,size,5,shard,size,5,collect,mode,random,from,sub,agg,collection,mode,values,execute,action,get,assert,search,response,response,terms,terms,response,get,aggregations,get,terms,assert,that,terms,not,null,value,assert,that,terms,get,doc,count,error,equal,to,46l,list,extends,bucket,buckets,terms,get,buckets,assert,that,buckets,not,null,value,assert,that,buckets,size,equal,to,5,bucket,bucket,buckets,get,0,assert,that,bucket,not,null,value,assert,that,bucket,get,key,equal,to,a,assert,that,bucket,get,doc,count,equal,to,100l,assert,that,bucket,get,doc,count,error,equal,to,0l,bucket,buckets,get,1,assert,that,bucket,not,null,value,assert,that,bucket,get,key,equal,to,z,assert,that,bucket,get,doc,count,equal,to,52l,assert,that,bucket,get,doc,count,error,equal,to,2l,bucket,buckets,get,2,assert,that,bucket,not,null,value,assert,that,bucket,get,key,equal,to,c,assert,that,bucket,get,doc,count,equal,to,50l,assert,that,bucket,get,doc,count,error,equal,to,15l,bucket,buckets,get,3,assert,that,bucket,not,null,value,assert,that,bucket,get,key,equal,to,g,assert,that,bucket,get,doc,count,equal,to,45l,assert,that,bucket,get,doc,count,error,equal,to,2l,bucket,buckets,get,4,assert,that,bucket,not,null,value,assert,that,bucket,get,key,equal,to,b,assert,that,bucket,get,doc,count,equal,to,43l,assert,that,bucket,get,doc,count,error,equal,to,29l
TermsDocCountErrorIT -> public void testFixedDocs() throws Exception;1544110272;Test a case where we know exactly how many of each term is on each shard_so we know the exact error value for each term. To do this we search over_3 one-shard indices.;public void testFixedDocs() throws Exception {_        SearchResponse response = client().prepareSearch("idx_fixed_docs_0", "idx_fixed_docs_1", "idx_fixed_docs_2").setTypes("type")_                .addAggregation(terms("terms")_                        .executionHint(randomExecutionHint())_                        .field(STRING_FIELD_NAME)_                        .showTermDocCountError(true)_                        .size(5).shardSize(5)_                        .collectMode(randomFrom(SubAggCollectionMode.values())))_                .get()__        assertSearchResponse(response)___        Terms terms = response.getAggregations().get("terms")__        assertThat(terms, notNullValue())__        assertThat(terms.getDocCountError(), equalTo(46L))__        List<? extends Bucket> buckets = terms.getBuckets()__        assertThat(buckets, notNullValue())__        assertThat(buckets.size(), equalTo(5))___        Bucket bucket = buckets.get(0)__        assertThat(bucket, notNullValue())__        assertThat(bucket.getKey(), equalTo("A"))__        assertThat(bucket.getDocCount(), equalTo(100L))__        assertThat(bucket.getDocCountError(), equalTo(0L))___        bucket = buckets.get(1)__        assertThat(bucket, notNullValue())__        assertThat(bucket.getKey(), equalTo("Z"))__        assertThat(bucket.getDocCount(), equalTo(52L))__        assertThat(bucket.getDocCountError(), equalTo(2L))___        bucket = buckets.get(2)__        assertThat(bucket, notNullValue())__        assertThat(bucket.getKey(), equalTo("C"))__        assertThat(bucket.getDocCount(), equalTo(50L))__        assertThat(bucket.getDocCountError(), equalTo(15L))____        bucket = buckets.get(3)__        assertThat(bucket, notNullValue())__        assertThat(bucket.getKey(), equalTo("G"))__        assertThat(bucket.getDocCount(), equalTo(45L))__        assertThat(bucket.getDocCountError(), equalTo(2L))___        bucket = buckets.get(4)__        assertThat(bucket, notNullValue())__        assertThat(bucket.getKey(), equalTo("B"))__        assertThat(bucket.getDocCount(), equalTo(43L))__        assertThat(bucket.getDocCountError(), equalTo(29L))__    };test,a,case,where,we,know,exactly,how,many,of,each,term,is,on,each,shard,so,we,know,the,exact,error,value,for,each,term,to,do,this,we,search,over,3,one,shard,indices;public,void,test,fixed,docs,throws,exception,search,response,response,client,prepare,search,set,types,type,add,aggregation,terms,terms,execution,hint,random,execution,hint,field,show,term,doc,count,error,true,size,5,shard,size,5,collect,mode,random,from,sub,agg,collection,mode,values,get,assert,search,response,response,terms,terms,response,get,aggregations,get,terms,assert,that,terms,not,null,value,assert,that,terms,get,doc,count,error,equal,to,46l,list,extends,bucket,buckets,terms,get,buckets,assert,that,buckets,not,null,value,assert,that,buckets,size,equal,to,5,bucket,bucket,buckets,get,0,assert,that,bucket,not,null,value,assert,that,bucket,get,key,equal,to,a,assert,that,bucket,get,doc,count,equal,to,100l,assert,that,bucket,get,doc,count,error,equal,to,0l,bucket,buckets,get,1,assert,that,bucket,not,null,value,assert,that,bucket,get,key,equal,to,z,assert,that,bucket,get,doc,count,equal,to,52l,assert,that,bucket,get,doc,count,error,equal,to,2l,bucket,buckets,get,2,assert,that,bucket,not,null,value,assert,that,bucket,get,key,equal,to,c,assert,that,bucket,get,doc,count,equal,to,50l,assert,that,bucket,get,doc,count,error,equal,to,15l,bucket,buckets,get,3,assert,that,bucket,not,null,value,assert,that,bucket,get,key,equal,to,g,assert,that,bucket,get,doc,count,equal,to,45l,assert,that,bucket,get,doc,count,error,equal,to,2l,bucket,buckets,get,4,assert,that,bucket,not,null,value,assert,that,bucket,get,key,equal,to,b,assert,that,bucket,get,doc,count,equal,to,43l,assert,that,bucket,get,doc,count,error,equal,to,29l
