commented;modifiers;parameterAmount;loc;comment;code
false;protected;0;4;;@Override protected String getFieldDataType() {     return "double". }
false;protected;4;6;;@Override protected IndexFieldData.XFieldComparatorSource createFieldComparator(String fieldName, MultiValueMode sortMode, Object missingValue, Nested nested) {     IndexNumericFieldData fieldData = getForField(fieldName).     return new DoubleValuesComparatorSource(fieldData, missingValue, sortMode, nested). }
false;protected;2;4;;@Override protected IndexableField createField(String name, int value) {     return new SortedNumericDocValuesField(name, NumericUtils.doubleToSortableLong(value)). }
false;protected;2;23;;@Override protected void assertAvgScoreMode(Query parentFilter, IndexSearcher searcher) throws IOException {     MultiValueMode sortMode = MultiValueMode.AVG.     Query childFilter = Queries.not(parentFilter).     XFieldComparatorSource nestedComparatorSource = createFieldComparator("field2", sortMode, -127, createNested(searcher, parentFilter, childFilter)).     Query query = new ToParentBlockJoinQuery(new ConstantScoreQuery(childFilter), new QueryBitSetProducer(parentFilter), ScoreMode.None).     Sort sort = new Sort(new SortField("field2", nestedComparatorSource)).     TopDocs topDocs = searcher.search(query, 5, sort).     assertThat(topDocs.totalHits.value, equalTo(7L)).     assertThat(topDocs.scoreDocs.length, equalTo(5)).     assertThat(topDocs.scoreDocs[0].doc, equalTo(11)).     assertThat(((Number) ((FieldDoc) topDocs.scoreDocs[0]).fields[0]).intValue(), equalTo(2)).     assertThat(topDocs.scoreDocs[1].doc, equalTo(7)).     assertThat(((Number) ((FieldDoc) topDocs.scoreDocs[1]).fields[0]).intValue(), equalTo(2)).     assertThat(topDocs.scoreDocs[2].doc, equalTo(3)).     assertThat(((Number) ((FieldDoc) topDocs.scoreDocs[2]).fields[0]).intValue(), equalTo(3)).     assertThat(topDocs.scoreDocs[3].doc, equalTo(15)).     assertThat(((Number) ((FieldDoc) topDocs.scoreDocs[3]).fields[0]).intValue(), equalTo(3)).     assertThat(topDocs.scoreDocs[4].doc, equalTo(19)).     assertThat(((Number) ((FieldDoc) topDocs.scoreDocs[4]).fields[0]).intValue(), equalTo(3)). }
