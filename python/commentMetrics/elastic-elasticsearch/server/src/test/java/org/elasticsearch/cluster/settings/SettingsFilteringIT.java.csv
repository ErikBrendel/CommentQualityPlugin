commented;modifiers;parameterAmount;loc;comment;code
false;protected;0;4;;@Override protected Collection<Class<? extends Plugin>> nodePlugins() {     return Arrays.asList(SettingsFilteringPlugin.class). }
false;public;0;4;;@Override public Settings additionalSettings() {     return Settings.builder().put("some.node.setting", true).put("some.other.node.setting", true).build(). }
false;public;0;6;;@Override public List<Setting<?>> getSettings() {     return Arrays.asList(SOME_NODE_SETTING, SOME_OTHER_NODE_SETTING, Setting.groupSetting("index.filter_test.", Property.IndexScope)). }
false;public;0;4;;@Override public List<String> getSettingsFilter() {     return Arrays.asList("index.filter_test.foo", "index.filter_test.bar*"). }
false;public;0;17;;public void testSettingsFiltering() {     assertAcked(client().admin().indices().prepareCreate("test-idx").setSettings(Settings.builder().put("filter_test.foo", "test").put("filter_test.bar1", "test").put("filter_test.bar2", "test").put("filter_test.notbar", "test").put("filter_test.notfoo", "test").build()).get()).     GetSettingsResponse response = client().admin().indices().prepareGetSettings("test-idx").get().     Settings settings = response.getIndexToSettings().get("test-idx").     assertThat(settings.get("index.filter_test.foo"), nullValue()).     assertThat(settings.get("index.filter_test.bar1"), nullValue()).     assertThat(settings.get("index.filter_test.bar2"), nullValue()).     assertThat(settings.get("index.filter_test.notbar"), equalTo("test")).     assertThat(settings.get("index.filter_test.notfoo"), equalTo("test")). }
false;public;0;10;;public void testNodeInfoIsFiltered() {     NodesInfoResponse nodeInfos = client().admin().cluster().prepareNodesInfo().clear().setSettings(true).get().     for (NodeInfo info : nodeInfos.getNodes()) {         Settings settings = info.getSettings().         assertNotNull(settings).         assertNull(settings.get(SettingsFilteringPlugin.SOME_NODE_SETTING.getKey())).         assertTrue(settings.getAsBoolean(SettingsFilteringPlugin.SOME_OTHER_NODE_SETTING.getKey(), false)).         assertEquals(settings.get("node.name"), info.getNode().getName()).     } }
