commented;modifiers;parameterAmount;loc;comment;code
false;public;0;13;;public void testExceptionForCopyToInMultiFields() throws IOException {     XContentBuilder mapping = createMappinmgWithCopyToInMultiField().     // first check that for newer versions we throw exception if copy_to is found within multi field     MapperService mapperService = MapperTestUtils.newMapperService(xContentRegistry(), createTempDir(), Settings.EMPTY, "test").     try {         mapperService.parse("type", new CompressedXContent(Strings.toString(mapping)), true).         fail("Parsing should throw an exception because the mapping contains a copy_to in a multi field").     } catch (MapperParsingException e) {         assertThat(e.getMessage(), equalTo("copy_to in multi fields is not allowed. Found the copy_to in field [c]" + " which is within a multi field.")).     } }
false;private,static;0;22;;private static XContentBuilder createMappinmgWithCopyToInMultiField() throws IOException {     XContentBuilder mapping = jsonBuilder().     mapping.startObject().startObject("type").startObject("properties").startObject("a").field("type", "text").endObject().startObject("b").field("type", "text").startObject("fields").startObject("c").field("type", "text").field("copy_to", "a").endObject().endObject().endObject().endObject().endObject().endObject().     return mapping. }
