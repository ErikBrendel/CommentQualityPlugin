commented;modifiers;parameterAmount;loc;comment;code
false;;4;39;;@Override DocIdSet processLeaf(Query query, CompositeValuesCollectorQueue queue, LeafReaderContext context, boolean fillDocIdSet) throws IOException {     final Terms terms = context.reader().terms(field).     if (terms == null) {         // no value for the field         return DocIdSet.EMPTY.     }     BytesRef lowerValue = (BytesRef) queue.getLowerValueLeadSource().     BytesRef upperValue = (BytesRef) queue.getUpperValueLeadSource().     final TermsEnum te = terms.iterator().     if (lowerValue != null) {         if (te.seekCeil(lowerValue) == TermsEnum.SeekStatus.END) {             return DocIdSet.EMPTY.         }     } else {         if (te.next() == null) {             return DocIdSet.EMPTY.         }     }     DocIdSetBuilder builder = fillDocIdSet ? new DocIdSetBuilder(context.reader().maxDoc(), terms) : null.     PostingsEnum reuse = null.     boolean first = true.     final BytesRef upper = upperValue == null ? null : BytesRef.deepCopyOf(upperValue).     do {         if (upper != null && upper.compareTo(te.term()) < 0) {             break.         }         reuse = te.postings(reuse, PostingsEnum.NONE).         if (processBucket(queue, context, reuse, te.term(), builder) && !first) {             // to be greater than this bucket.             break.         }         first = false.     } while (te.next() != null).     return fillDocIdSet ? builder.build() : DocIdSet.EMPTY. }
