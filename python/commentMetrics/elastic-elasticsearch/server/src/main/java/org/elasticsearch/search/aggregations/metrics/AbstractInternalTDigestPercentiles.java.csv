commented;modifiers;parameterAmount;loc;comment;code
false;protected;1;7;;@Override protected void doWriteTo(StreamOutput out) throws IOException {     out.writeNamedWriteable(format).     out.writeDoubleArray(keys).     TDigestState.write(state, out).     out.writeBoolean(keyed). }
false;public;1;4;;@Override public double value(String name) {     return value(Double.parseDouble(name)). }
false;public,abstract;1;1;;public abstract double value(double key).
false;;0;3;;DocValueFormat formatter() {     return format. }
false;public;0;3;;public long getEstimatedMemoryFootprint() {     return state.byteSize(). }
false;;0;3;;TDigestState getState() {     return state. }
false;public;2;12;;@Override public AbstractInternalTDigestPercentiles doReduce(List<InternalAggregation> aggregations, ReduceContext reduceContext) {     TDigestState merged = null.     for (InternalAggregation aggregation : aggregations) {         final AbstractInternalTDigestPercentiles percentiles = (AbstractInternalTDigestPercentiles) aggregation.         if (merged == null) {             merged = new TDigestState(percentiles.state.compression()).         }         merged.add(percentiles.state).     }     return createReduced(getName(), keys, merged, keyed, pipelineAggregators(), getMetaData()). }
false;protected,abstract;6;2;;protected abstract AbstractInternalTDigestPercentiles createReduced(String name, double[] keys, TDigestState merged, boolean keyed, List<PipelineAggregator> pipelineAggregators, Map<String, Object> metaData).
false;public;2;29;;@Override public XContentBuilder doXContentBody(XContentBuilder builder, Params params) throws IOException {     if (keyed) {         builder.startObject(CommonFields.VALUES.getPreferredName()).         for (int i = 0. i < keys.length. ++i) {             String key = String.valueOf(keys[i]).             double value = value(keys[i]).             builder.field(key, state.size() == 0 ? null : value).             if (format != DocValueFormat.RAW && state.size() > 0) {                 builder.field(key + "_as_string", format.format(value).toString()).             }         }         builder.endObject().     } else {         builder.startArray(CommonFields.VALUES.getPreferredName()).         for (int i = 0. i < keys.length. i++) {             double value = value(keys[i]).             builder.startObject().             builder.field(CommonFields.KEY.getPreferredName(), keys[i]).             builder.field(CommonFields.VALUE.getPreferredName(), state.size() == 0 ? null : value).             if (format != DocValueFormat.RAW && state.size() > 0) {                 builder.field(CommonFields.VALUE_AS_STRING.getPreferredName(), format.format(value).toString()).             }             builder.endObject().         }         builder.endArray().     }     return builder. }
false;protected;1;7;;@Override protected boolean doEquals(Object obj) {     AbstractInternalTDigestPercentiles that = (AbstractInternalTDigestPercentiles) obj.     return keyed == that.keyed && Arrays.equals(keys, that.keys) && Objects.equals(state, that.state). }
false;protected;0;4;;@Override protected int doHashCode() {     return Objects.hash(keyed, Arrays.hashCode(keys), state). }
