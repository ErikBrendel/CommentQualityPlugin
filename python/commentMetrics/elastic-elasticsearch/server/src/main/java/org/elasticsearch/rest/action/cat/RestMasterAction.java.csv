commented;modifiers;parameterAmount;loc;comment;code
false;public;0;4;;@Override public String getName() {     return "cat_master_action". }
false;protected;1;4;;@Override protected void documentation(StringBuilder sb) {     sb.append("/_cat/master\n"). }
false;public;1;4;;@Override public RestResponse buildResponse(final ClusterStateResponse clusterStateResponse) throws Exception {     return RestTable.buildResponse(buildTable(request, clusterStateResponse), channel). }
false;public;2;14;;@Override public RestChannelConsumer doCatRequest(final RestRequest request, final NodeClient client) {     final ClusterStateRequest clusterStateRequest = new ClusterStateRequest().     clusterStateRequest.clear().nodes(true).     clusterStateRequest.local(request.paramAsBoolean("local", clusterStateRequest.local())).     clusterStateRequest.masterNodeTimeout(request.paramAsTime("master_timeout", clusterStateRequest.masterNodeTimeout())).     return channel -> client.admin().cluster().state(clusterStateRequest, new RestResponseListener<ClusterStateResponse>(channel) {          @Override         public RestResponse buildResponse(final ClusterStateResponse clusterStateResponse) throws Exception {             return RestTable.buildResponse(buildTable(request, clusterStateResponse), channel).         }     }). }
false;protected;1;11;;@Override protected Table getTableWithHeader(final RestRequest request) {     Table table = new Table().     table.startHeaders().addCell("id", "desc:node id").addCell("host", "alias:h.desc:host name").addCell("ip", "desc:ip address ").addCell("node", "alias:n.desc:node name").endHeaders().     return table. }
false;private;2;21;;private Table buildTable(RestRequest request, ClusterStateResponse state) {     Table table = getTableWithHeader(request).     DiscoveryNodes nodes = state.getState().nodes().     table.startRow().     DiscoveryNode master = nodes.get(nodes.getMasterNodeId()).     if (master == null) {         table.addCell("-").         table.addCell("-").         table.addCell("-").         table.addCell("-").     } else {         table.addCell(master.getId()).         table.addCell(master.getHostName()).         table.addCell(master.getHostAddress()).         table.addCell(master.getName()).     }     table.endRow().     return table. }
