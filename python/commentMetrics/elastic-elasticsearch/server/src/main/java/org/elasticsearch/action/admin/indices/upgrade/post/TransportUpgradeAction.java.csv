# id;timestamp;commentText;codeText;commentWords;codeWords
TransportUpgradeAction -> private Set<String> indicesWithMissingPrimaries(ClusterState clusterState, String[] concreteIndices);1524684173;Finds all indices that have not all primaries available;private Set<String> indicesWithMissingPrimaries(ClusterState clusterState, String[] concreteIndices) {_        Set<String> indices = new HashSet<>()__        RoutingTable routingTable = clusterState.routingTable()__        for (String index : concreteIndices) {_            IndexRoutingTable indexRoutingTable = routingTable.index(index)__            if (indexRoutingTable.allPrimaryShardsActive() == false) {_                indices.add(index)__            }_        }_        return indices__    };finds,all,indices,that,have,not,all,primaries,available;private,set,string,indices,with,missing,primaries,cluster,state,cluster,state,string,concrete,indices,set,string,indices,new,hash,set,routing,table,routing,table,cluster,state,routing,table,for,string,index,concrete,indices,index,routing,table,index,routing,table,routing,table,index,index,if,index,routing,table,all,primary,shards,active,false,indices,add,index,return,indices
TransportUpgradeAction -> private Set<String> indicesWithMissingPrimaries(ClusterState clusterState, String[] concreteIndices);1529600205;Finds all indices that have not all primaries available;private Set<String> indicesWithMissingPrimaries(ClusterState clusterState, String[] concreteIndices) {_        Set<String> indices = new HashSet<>()__        RoutingTable routingTable = clusterState.routingTable()__        for (String index : concreteIndices) {_            IndexRoutingTable indexRoutingTable = routingTable.index(index)__            if (indexRoutingTable.allPrimaryShardsActive() == false) {_                indices.add(index)__            }_        }_        return indices__    };finds,all,indices,that,have,not,all,primaries,available;private,set,string,indices,with,missing,primaries,cluster,state,cluster,state,string,concrete,indices,set,string,indices,new,hash,set,routing,table,routing,table,cluster,state,routing,table,for,string,index,concrete,indices,index,routing,table,index,routing,table,routing,table,index,index,if,index,routing,table,all,primary,shards,active,false,indices,add,index,return,indices
TransportUpgradeAction -> private Set<String> indicesWithMissingPrimaries(ClusterState clusterState, String[] concreteIndices);1529658035;Finds all indices that have not all primaries available;private Set<String> indicesWithMissingPrimaries(ClusterState clusterState, String[] concreteIndices) {_        Set<String> indices = new HashSet<>()__        RoutingTable routingTable = clusterState.routingTable()__        for (String index : concreteIndices) {_            IndexRoutingTable indexRoutingTable = routingTable.index(index)__            if (indexRoutingTable.allPrimaryShardsActive() == false) {_                indices.add(index)__            }_        }_        return indices__    };finds,all,indices,that,have,not,all,primaries,available;private,set,string,indices,with,missing,primaries,cluster,state,cluster,state,string,concrete,indices,set,string,indices,new,hash,set,routing,table,routing,table,cluster,state,routing,table,for,string,index,concrete,indices,index,routing,table,index,routing,table,routing,table,index,index,if,index,routing,table,all,primary,shards,active,false,indices,add,index,return,indices
TransportUpgradeAction -> private Set<String> indicesWithMissingPrimaries(ClusterState clusterState, String[] concreteIndices);1534362961;Finds all indices that have not all primaries available;private Set<String> indicesWithMissingPrimaries(ClusterState clusterState, String[] concreteIndices) {_        Set<String> indices = new HashSet<>()__        RoutingTable routingTable = clusterState.routingTable()__        for (String index : concreteIndices) {_            IndexRoutingTable indexRoutingTable = routingTable.index(index)__            if (indexRoutingTable.allPrimaryShardsActive() == false) {_                indices.add(index)__            }_        }_        return indices__    };finds,all,indices,that,have,not,all,primaries,available;private,set,string,indices,with,missing,primaries,cluster,state,cluster,state,string,concrete,indices,set,string,indices,new,hash,set,routing,table,routing,table,cluster,state,routing,table,for,string,index,concrete,indices,index,routing,table,index,routing,table,routing,table,index,index,if,index,routing,table,all,primary,shards,active,false,indices,add,index,return,indices
TransportUpgradeAction -> private Set<String> indicesWithMissingPrimaries(ClusterState clusterState, String[] concreteIndices);1540583181;Finds all indices that have not all primaries available;private Set<String> indicesWithMissingPrimaries(ClusterState clusterState, String[] concreteIndices) {_        Set<String> indices = new HashSet<>()__        RoutingTable routingTable = clusterState.routingTable()__        for (String index : concreteIndices) {_            IndexRoutingTable indexRoutingTable = routingTable.index(index)__            if (indexRoutingTable.allPrimaryShardsActive() == false) {_                indices.add(index)__            }_        }_        return indices__    };finds,all,indices,that,have,not,all,primaries,available;private,set,string,indices,with,missing,primaries,cluster,state,cluster,state,string,concrete,indices,set,string,indices,new,hash,set,routing,table,routing,table,cluster,state,routing,table,for,string,index,concrete,indices,index,routing,table,index,routing,table,routing,table,index,index,if,index,routing,table,all,primary,shards,active,false,indices,add,index,return,indices
TransportUpgradeAction -> private Set<String> indicesWithMissingPrimaries(ClusterState clusterState, String[] concreteIndices);1541419698;Finds all indices that have not all primaries available;private Set<String> indicesWithMissingPrimaries(ClusterState clusterState, String[] concreteIndices) {_        Set<String> indices = new HashSet<>()__        RoutingTable routingTable = clusterState.routingTable()__        for (String index : concreteIndices) {_            IndexRoutingTable indexRoutingTable = routingTable.index(index)__            if (indexRoutingTable.allPrimaryShardsActive() == false) {_                indices.add(index)__            }_        }_        return indices__    };finds,all,indices,that,have,not,all,primaries,available;private,set,string,indices,with,missing,primaries,cluster,state,cluster,state,string,concrete,indices,set,string,indices,new,hash,set,routing,table,routing,table,cluster,state,routing,table,for,string,index,concrete,indices,index,routing,table,index,routing,table,routing,table,index,index,if,index,routing,table,all,primary,shards,active,false,indices,add,index,return,indices
TransportUpgradeAction -> @Override     protected ShardsIterator shards(ClusterState clusterState, UpgradeRequest request, String[] concreteIndices);1524684173;The upgrade request works against *all* shards.;@Override_    protected ShardsIterator shards(ClusterState clusterState, UpgradeRequest request, String[] concreteIndices) {_        ShardsIterator iterator = clusterState.routingTable().allShards(concreteIndices)__        Set<String> indicesWithMissingPrimaries = indicesWithMissingPrimaries(clusterState, concreteIndices)__        if (indicesWithMissingPrimaries.isEmpty()) {_            return iterator__        }_        _        throw new PrimaryMissingActionException("Cannot upgrade indices because the following indices are missing primary shards " + indicesWithMissingPrimaries)__    };the,upgrade,request,works,against,all,shards;override,protected,shards,iterator,shards,cluster,state,cluster,state,upgrade,request,request,string,concrete,indices,shards,iterator,iterator,cluster,state,routing,table,all,shards,concrete,indices,set,string,indices,with,missing,primaries,indices,with,missing,primaries,cluster,state,concrete,indices,if,indices,with,missing,primaries,is,empty,return,iterator,throw,new,primary,missing,action,exception,cannot,upgrade,indices,because,the,following,indices,are,missing,primary,shards,indices,with,missing,primaries
TransportUpgradeAction -> @Override     protected ShardsIterator shards(ClusterState clusterState, UpgradeRequest request, String[] concreteIndices);1529600205;The upgrade request works against *all* shards.;@Override_    protected ShardsIterator shards(ClusterState clusterState, UpgradeRequest request, String[] concreteIndices) {_        ShardsIterator iterator = clusterState.routingTable().allShards(concreteIndices)__        Set<String> indicesWithMissingPrimaries = indicesWithMissingPrimaries(clusterState, concreteIndices)__        if (indicesWithMissingPrimaries.isEmpty()) {_            return iterator__        }_        _        throw new PrimaryMissingActionException("Cannot upgrade indices because the following indices are missing primary shards " + indicesWithMissingPrimaries)__    };the,upgrade,request,works,against,all,shards;override,protected,shards,iterator,shards,cluster,state,cluster,state,upgrade,request,request,string,concrete,indices,shards,iterator,iterator,cluster,state,routing,table,all,shards,concrete,indices,set,string,indices,with,missing,primaries,indices,with,missing,primaries,cluster,state,concrete,indices,if,indices,with,missing,primaries,is,empty,return,iterator,throw,new,primary,missing,action,exception,cannot,upgrade,indices,because,the,following,indices,are,missing,primary,shards,indices,with,missing,primaries
TransportUpgradeAction -> @Override     protected ShardsIterator shards(ClusterState clusterState, UpgradeRequest request, String[] concreteIndices);1529658035;The upgrade request works against *all* shards.;@Override_    protected ShardsIterator shards(ClusterState clusterState, UpgradeRequest request, String[] concreteIndices) {_        ShardsIterator iterator = clusterState.routingTable().allShards(concreteIndices)__        Set<String> indicesWithMissingPrimaries = indicesWithMissingPrimaries(clusterState, concreteIndices)__        if (indicesWithMissingPrimaries.isEmpty()) {_            return iterator__        }_        _        throw new PrimaryMissingActionException("Cannot upgrade indices because the following indices are missing primary shards " + indicesWithMissingPrimaries)__    };the,upgrade,request,works,against,all,shards;override,protected,shards,iterator,shards,cluster,state,cluster,state,upgrade,request,request,string,concrete,indices,shards,iterator,iterator,cluster,state,routing,table,all,shards,concrete,indices,set,string,indices,with,missing,primaries,indices,with,missing,primaries,cluster,state,concrete,indices,if,indices,with,missing,primaries,is,empty,return,iterator,throw,new,primary,missing,action,exception,cannot,upgrade,indices,because,the,following,indices,are,missing,primary,shards,indices,with,missing,primaries
TransportUpgradeAction -> @Override     protected ShardsIterator shards(ClusterState clusterState, UpgradeRequest request, String[] concreteIndices);1534362961;The upgrade request works against *all* shards.;@Override_    protected ShardsIterator shards(ClusterState clusterState, UpgradeRequest request, String[] concreteIndices) {_        ShardsIterator iterator = clusterState.routingTable().allShards(concreteIndices)__        Set<String> indicesWithMissingPrimaries = indicesWithMissingPrimaries(clusterState, concreteIndices)__        if (indicesWithMissingPrimaries.isEmpty()) {_            return iterator__        }_        _        throw new PrimaryMissingActionException("Cannot upgrade indices because the following indices are missing primary shards " + indicesWithMissingPrimaries)__    };the,upgrade,request,works,against,all,shards;override,protected,shards,iterator,shards,cluster,state,cluster,state,upgrade,request,request,string,concrete,indices,shards,iterator,iterator,cluster,state,routing,table,all,shards,concrete,indices,set,string,indices,with,missing,primaries,indices,with,missing,primaries,cluster,state,concrete,indices,if,indices,with,missing,primaries,is,empty,return,iterator,throw,new,primary,missing,action,exception,cannot,upgrade,indices,because,the,following,indices,are,missing,primary,shards,indices,with,missing,primaries
TransportUpgradeAction -> @Override     protected ShardsIterator shards(ClusterState clusterState, UpgradeRequest request, String[] concreteIndices);1540583181;The upgrade request works against *all* shards.;@Override_    protected ShardsIterator shards(ClusterState clusterState, UpgradeRequest request, String[] concreteIndices) {_        ShardsIterator iterator = clusterState.routingTable().allShards(concreteIndices)__        Set<String> indicesWithMissingPrimaries = indicesWithMissingPrimaries(clusterState, concreteIndices)__        if (indicesWithMissingPrimaries.isEmpty()) {_            return iterator__        }_        _        throw new PrimaryMissingActionException("Cannot upgrade indices because the following indices are missing primary shards " +_            indicesWithMissingPrimaries)__    };the,upgrade,request,works,against,all,shards;override,protected,shards,iterator,shards,cluster,state,cluster,state,upgrade,request,request,string,concrete,indices,shards,iterator,iterator,cluster,state,routing,table,all,shards,concrete,indices,set,string,indices,with,missing,primaries,indices,with,missing,primaries,cluster,state,concrete,indices,if,indices,with,missing,primaries,is,empty,return,iterator,throw,new,primary,missing,action,exception,cannot,upgrade,indices,because,the,following,indices,are,missing,primary,shards,indices,with,missing,primaries
TransportUpgradeAction -> @Override     protected ShardsIterator shards(ClusterState clusterState, UpgradeRequest request, String[] concreteIndices);1541419698;The upgrade request works against *all* shards.;@Override_    protected ShardsIterator shards(ClusterState clusterState, UpgradeRequest request, String[] concreteIndices) {_        ShardsIterator iterator = clusterState.routingTable().allShards(concreteIndices)__        Set<String> indicesWithMissingPrimaries = indicesWithMissingPrimaries(clusterState, concreteIndices)__        if (indicesWithMissingPrimaries.isEmpty()) {_            return iterator__        }_        _        throw new PrimaryMissingActionException("Cannot upgrade indices because the following indices are missing primary shards " +_            indicesWithMissingPrimaries)__    };the,upgrade,request,works,against,all,shards;override,protected,shards,iterator,shards,cluster,state,cluster,state,upgrade,request,request,string,concrete,indices,shards,iterator,iterator,cluster,state,routing,table,all,shards,concrete,indices,set,string,indices,with,missing,primaries,indices,with,missing,primaries,cluster,state,concrete,indices,if,indices,with,missing,primaries,is,empty,return,iterator,throw,new,primary,missing,action,exception,cannot,upgrade,indices,because,the,following,indices,are,missing,primary,shards,indices,with,missing,primaries
