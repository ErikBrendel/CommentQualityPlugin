commented;modifiers;parameterAmount;loc;comment;code
false;public;3;18;;@Override public Similarity apply(Settings settings, Version indexCreatedVersion, ScriptService scriptService) {     boolean discountOverlaps = settings.getAsBoolean(SimilarityProviders.DISCOUNT_OVERLAPS, true).     Settings scriptSettings = settings.getAsSettings("script").     Script script = Script.parse(scriptSettings).     SimilarityScript.Factory scriptFactory = scriptService.compile(script, SimilarityScript.CONTEXT).     Settings weightScriptSettings = settings.getAsSettings("weight_script").     Script weightScript = null.     SimilarityWeightScript.Factory weightScriptFactory = null.     if (weightScriptSettings.isEmpty() == false) {         weightScript = Script.parse(weightScriptSettings).         weightScriptFactory = scriptService.compile(weightScript, SimilarityWeightScript.CONTEXT).     }     return new ScriptedSimilarity(weightScript == null ? null : weightScript.toString(), weightScriptFactory == null ? null : weightScriptFactory::newInstance, script.toString(), scriptFactory::newInstance, discountOverlaps). }
