commented;modifiers;parameterAmount;loc;comment;code
true;protected;3;4;/**  * Status goes across *all* shards.  */ ;/**  * Status goes across *all* shards.  */ @Override protected ShardsIterator shards(ClusterState clusterState, IndicesStatsRequest request, String[] concreteIndices) {     return clusterState.routingTable().allShards(concreteIndices). }
false;protected;2;4;;@Override protected ClusterBlockException checkGlobalBlock(ClusterState state, IndicesStatsRequest request) {     return state.blocks().globalBlockedException(ClusterBlockLevel.METADATA_READ). }
false;protected;3;4;;@Override protected ClusterBlockException checkRequestBlock(ClusterState state, IndicesStatsRequest request, String[] concreteIndices) {     return state.blocks().indicesBlockedException(ClusterBlockLevel.METADATA_READ, concreteIndices). }
false;protected;1;4;;@Override protected ShardStats readShardResult(StreamInput in) throws IOException {     return ShardStats.readShardStats(in). }
false;protected;7;7;;@Override protected IndicesStatsResponse newResponse(IndicesStatsRequest request, int totalShards, int successfulShards, int failedShards, List<ShardStats> responses, List<DefaultShardOperationFailedException> shardFailures, ClusterState clusterState) {     return new IndicesStatsResponse(responses.toArray(new ShardStats[responses.size()]), totalShards, successfulShards, failedShards, shardFailures). }
false;protected;1;6;;@Override protected IndicesStatsRequest readRequestFrom(StreamInput in) throws IOException {     IndicesStatsRequest request = new IndicesStatsRequest().     request.readFrom(in).     return request. }
false;protected;2;31;;@Override protected ShardStats shardOperation(IndicesStatsRequest request, ShardRouting shardRouting) {     IndexService indexService = indicesService.indexServiceSafe(shardRouting.shardId().getIndex()).     IndexShard indexShard = indexService.getShard(shardRouting.shardId().id()).     // if we don't have the routing entry yet, we need it stats wise, we treat it as if the shard is not ready yet     if (indexShard.routingEntry() == null) {         throw new ShardNotFoundException(indexShard.shardId()).     }     CommonStats commonStats = new CommonStats(indicesService.getIndicesQueryCache(), indexShard, request.flags()).     CommitStats commitStats.     SeqNoStats seqNoStats.     RetentionLeaseStats retentionLeaseStats.     try {         commitStats = indexShard.commitStats().         seqNoStats = indexShard.seqNoStats().         retentionLeaseStats = indexShard.getRetentionLeaseStats().     } catch (final AlreadyClosedException e) {         // shard is closed - no stats is fine         commitStats = null.         seqNoStats = null.         retentionLeaseStats = null.     }     return new ShardStats(indexShard.routingEntry(), indexShard.shardPath(), commonStats, commitStats, seqNoStats, retentionLeaseStats). }
