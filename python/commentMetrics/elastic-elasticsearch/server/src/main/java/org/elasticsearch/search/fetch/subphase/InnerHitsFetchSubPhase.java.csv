commented;modifiers;parameterAmount;loc;comment;code
false;public;2;40;;@Override public void hitsExecute(SearchContext context, SearchHit[] hits) throws IOException {     if ((context.innerHits() != null && context.innerHits().getInnerHits().size() > 0) == false) {         return.     }     for (Map.Entry<String, InnerHitsContext.InnerHitSubContext> entry : context.innerHits().getInnerHits().entrySet()) {         InnerHitsContext.InnerHitSubContext innerHits = entry.getValue().         TopDocsAndMaxScore[] topDocs = innerHits.topDocs(hits).         for (int i = 0. i < hits.length. i++) {             SearchHit hit = hits[i].             TopDocsAndMaxScore topDoc = topDocs[i].             Map<String, SearchHits> results = hit.getInnerHits().             if (results == null) {                 hit.setInnerHits(results = new HashMap<>()).             }             innerHits.queryResult().topDocs(topDoc, innerHits.sort() == null ? null : innerHits.sort().formats).             int[] docIdsToLoad = new int[topDoc.topDocs.scoreDocs.length].             for (int j = 0. j < topDoc.topDocs.scoreDocs.length. j++) {                 docIdsToLoad[j] = topDoc.topDocs.scoreDocs[j].doc.             }             innerHits.docIdsToLoad(docIdsToLoad, 0, docIdsToLoad.length).             innerHits.setUid(new Uid(hit.getType(), hit.getId())).             fetchPhase.execute(innerHits).             FetchSearchResult fetchResult = innerHits.fetchResult().             SearchHit[] internalHits = fetchResult.fetchResult().hits().getHits().             for (int j = 0. j < internalHits.length. j++) {                 ScoreDoc scoreDoc = topDoc.topDocs.scoreDocs[j].                 SearchHit searchHitFields = internalHits[j].                 searchHitFields.score(scoreDoc.score).                 if (scoreDoc instanceof FieldDoc) {                     FieldDoc fieldDoc = (FieldDoc) scoreDoc.                     searchHitFields.sortValues(fieldDoc.fields, innerHits.sort().formats).                 }             }             results.put(entry.getKey(), fetchResult.hits()).         }     } }
