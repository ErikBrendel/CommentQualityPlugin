commented;modifiers;parameterAmount;loc;comment;code
false;;1;13;;@Override void copyCurrent(int slot) {     values = bigArrays.grow(values, slot + 1).     if (missingBucket && missingCurrentValue) {         bits.clear(slot).     } else {         assert missingCurrentValue == false.         if (missingBucket) {             bits.set(slot).         }         values.set(slot, currentValue).     } }
false;;2;11;;@Override int compare(int from, int to) {     if (missingBucket) {         if (bits.get(from) == false) {             return bits.get(to) ? -1 * reverseMul : 0.         } else if (bits.get(to) == false) {             return reverseMul.         }     }     return compareValues(values.get(from), values.get(to)). }
false;;1;11;;@Override int compareCurrent(int slot) {     if (missingBucket) {         if (missingCurrentValue) {             return bits.get(slot) ? -1 * reverseMul : 0.         } else if (bits.get(slot) == false) {             return reverseMul.         }     }     return compareValues(currentValue, values.get(slot)). }
false;;0;11;;@Override int compareCurrentWithAfter() {     if (missingBucket) {         if (missingCurrentValue) {             return afterValue != null ? -1 * reverseMul : 0.         } else if (afterValue == null) {             return reverseMul.         }     }     return compareValues(currentValue, afterValue). }
false;;1;8;;@Override int hashCode(int slot) {     if (missingBucket && bits.get(slot) == false) {         return 0.     } else {         return Double.hashCode(values.get(slot)).     } }
false;;0;8;;@Override int hashCodeCurrent() {     if (missingCurrentValue) {         return 0.     } else {         return Double.hashCode(currentValue).     } }
false;private;2;3;;private int compareValues(double v1, double v2) {     return Double.compare(v1, v2) * reverseMul. }
false;;1;12;;@Override void setAfter(Comparable value) {     if (missingBucket && value == null) {         afterValue = null.     } else if (value instanceof Number) {         afterValue = ((Number) value).doubleValue().     } else {         afterValue = format.parseDouble(value.toString(), false, () -> {             throw new IllegalArgumentException("now() is not supported in [after] key").         }).     } }
false;;1;8;;@Override Double toComparable(int slot) {     if (missingBucket && bits.get(slot) == false) {         return null.     }     assert missingBucket == false || bits.get(slot).     return values.get(slot). }
false;public;2;14;;@Override public void collect(int doc, long bucket) throws IOException {     if (dvs.advanceExact(doc)) {         int num = dvs.docValueCount().         for (int i = 0. i < num. i++) {             currentValue = dvs.nextValue().             missingCurrentValue = false.             next.collect(doc, bucket).         }     } else if (missingBucket) {         missingCurrentValue = true.         next.collect(doc, bucket).     } }
false;;2;20;;@Override LeafBucketCollector getLeafCollector(LeafReaderContext context, LeafBucketCollector next) throws IOException {     final SortedNumericDoubleValues dvs = docValuesFunc.apply(context).     return new LeafBucketCollector() {          @Override         public void collect(int doc, long bucket) throws IOException {             if (dvs.advanceExact(doc)) {                 int num = dvs.docValueCount().                 for (int i = 0. i < num. i++) {                     currentValue = dvs.nextValue().                     missingCurrentValue = false.                     next.collect(doc, bucket).                 }             } else if (missingBucket) {                 missingCurrentValue = true.                 next.collect(doc, bucket).             }         }     }. }
false;public;2;4;;@Override public void collect(int doc, long bucket) throws IOException {     next.collect(doc, bucket). }
false;;3;13;;@Override LeafBucketCollector getLeafCollector(Comparable value, LeafReaderContext context, LeafBucketCollector next) {     if (value.getClass() != Double.class) {         throw new IllegalArgumentException("Expected Double, got " + value.getClass()).     }     currentValue = (Double) value.     return new LeafBucketCollector() {          @Override         public void collect(int doc, long bucket) throws IOException {             next.collect(doc, bucket).         }     }. }
false;;2;4;;@Override SortedDocsProducer createSortedDocsProducerOrNull(IndexReader reader, Query query) {     return null. }
false;public;0;4;;@Override public void close() {     Releasables.close(values, bits). }
