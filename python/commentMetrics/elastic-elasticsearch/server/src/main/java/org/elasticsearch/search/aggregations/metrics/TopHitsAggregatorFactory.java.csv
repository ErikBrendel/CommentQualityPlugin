commented;modifiers;parameterAmount;loc;comment;code
false;public;4;32;;@Override public Aggregator createInternal(Aggregator parent, boolean collectsFromSingleBucket, List<PipelineAggregator> pipelineAggregators, Map<String, Object> metaData) throws IOException {     SubSearchContext subSearchContext = new SubSearchContext(context).     subSearchContext.parsedQuery(context.parsedQuery()).     subSearchContext.explain(explain).     subSearchContext.version(version).     subSearchContext.seqNoAndPrimaryTerm(seqNoAndPrimaryTerm).     subSearchContext.trackScores(trackScores).     subSearchContext.from(from).     subSearchContext.size(size).     if (sort.isPresent()) {         subSearchContext.sort(sort.get()).     }     if (storedFieldsContext != null) {         subSearchContext.storedFieldsContext(storedFieldsContext).     }     if (docValueFields != null) {         subSearchContext.docValueFieldsContext(new DocValueFieldsContext(docValueFields)).     }     for (ScriptFieldsContext.ScriptField field : scriptFields) {         subSearchContext.scriptFields().add(field).     }     if (fetchSourceContext != null) {         subSearchContext.fetchSourceContext(fetchSourceContext).     }     if (highlightBuilder != null) {         subSearchContext.highlight(highlightBuilder.build(context.getQueryShardContext())).     }     return new TopHitsAggregator(context.fetchPhase(), subSearchContext, name, context, parent, pipelineAggregators, metaData). }
