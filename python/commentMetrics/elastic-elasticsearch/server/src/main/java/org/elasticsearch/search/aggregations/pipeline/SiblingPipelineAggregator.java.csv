commented;modifiers;parameterAmount;loc;comment;code
false;public;2;34;;@SuppressWarnings("unchecked") @Override public InternalAggregation reduce(InternalAggregation aggregation, ReduceContext reduceContext) {     if (aggregation instanceof InternalMultiBucketAggregation) {         @SuppressWarnings("rawtypes")         InternalMultiBucketAggregation multiBucketsAgg = (InternalMultiBucketAggregation) aggregation.         List<? extends Bucket> buckets = multiBucketsAgg.getBuckets().         List<Bucket> newBuckets = new ArrayList<>().         for (Bucket bucket1 : buckets) {             InternalMultiBucketAggregation.InternalBucket bucket = (InternalMultiBucketAggregation.InternalBucket) bucket1.             InternalAggregation aggToAdd = doReduce(bucket.getAggregations(), reduceContext).             List<InternalAggregation> aggs = StreamSupport.stream(bucket.getAggregations().spliterator(), false).map((p) -> (InternalAggregation) p).collect(Collectors.toList()).             aggs.add(aggToAdd).             InternalMultiBucketAggregation.InternalBucket newBucket = multiBucketsAgg.createBucket(new InternalAggregations(aggs), bucket).             newBuckets.add(newBucket).         }         return multiBucketsAgg.create(newBuckets).     } else if (aggregation instanceof InternalSingleBucketAggregation) {         InternalSingleBucketAggregation singleBucketAgg = (InternalSingleBucketAggregation) aggregation.         InternalAggregation aggToAdd = doReduce(singleBucketAgg.getAggregations(), reduceContext).         List<InternalAggregation> aggs = StreamSupport.stream(singleBucketAgg.getAggregations().spliterator(), false).map((p) -> (InternalAggregation) p).collect(Collectors.toList()).         aggs.add(aggToAdd).         return singleBucketAgg.create(new InternalAggregations(aggs)).     } else {         throw new IllegalStateException("Aggregation [" + aggregation.getName() + "] must be a bucket aggregation [" + aggregation.getWriteableName() + "]").     } }
false;public,abstract;2;1;;public abstract InternalAggregation doReduce(Aggregations aggregations, ReduceContext context).
