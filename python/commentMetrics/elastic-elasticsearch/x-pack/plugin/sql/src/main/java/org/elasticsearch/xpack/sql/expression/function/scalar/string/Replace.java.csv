commented;modifiers;parameterAmount;loc;comment;code
false;protected;0;18;;@Override protected TypeResolution resolveType() {     if (!childrenResolved()) {         return new TypeResolution("Unresolved children").     }     TypeResolution sourceResolution = isStringAndExact(source, sourceText(), ParamOrdinal.FIRST).     if (sourceResolution.unresolved()) {         return sourceResolution.     }     TypeResolution patternResolution = isStringAndExact(pattern, sourceText(), ParamOrdinal.SECOND).     if (patternResolution.unresolved()) {         return patternResolution.     }     return isStringAndExact(replacement, sourceText(), ParamOrdinal.THIRD). }
false;protected;0;7;;@Override protected Pipe makePipe() {     return new ReplaceFunctionPipe(source(), this, Expressions.pipe(source), Expressions.pipe(pattern), Expressions.pipe(replacement)). }
false;protected;0;4;;@Override protected NodeInfo<? extends Expression> info() {     return NodeInfo.create(this, Replace::new, source, pattern, replacement). }
false;public;0;6;;@Override public boolean foldable() {     return source.foldable() && pattern.foldable() && replacement.foldable(). }
false;public;0;4;;@Override public Object fold() {     return doProcess(source.fold(), pattern.fold(), replacement.fold()). }
false;public;0;8;;@Override public ScriptTemplate asScript() {     ScriptTemplate sourceScript = asScript(source).     ScriptTemplate patternScript = asScript(pattern).     ScriptTemplate replacementScript = asScript(replacement).     return asScriptFrom(sourceScript, patternScript, replacementScript). }
false;private;3;12;;private ScriptTemplate asScriptFrom(ScriptTemplate sourceScript, ScriptTemplate patternScript, ScriptTemplate replacementScript) {     // basically, transform the script to InternalSqlScriptUtils.[function_name](function_or_field1, function_or_field2,...)     return new ScriptTemplate(format(Locale.ROOT, formatTemplate("{sql}.%s(%s,%s,%s)"), "replace", sourceScript.template(), patternScript.template(), replacementScript.template()), paramsBuilder().script(sourceScript.params()).script(patternScript.params()).script(replacementScript.params()).build(), dataType()). }
false;public;1;6;;@Override public ScriptTemplate scriptWithField(FieldAttribute field) {     return new ScriptTemplate(processScript("doc[{}].value"), paramsBuilder().variable(field.exactAttribute().name()).build(), dataType()). }
false;public;0;4;;@Override public DataType dataType() {     return DataType.KEYWORD. }
false;public;1;8;;@Override public Expression replaceChildren(List<Expression> newChildren) {     if (newChildren.size() != 3) {         throw new IllegalArgumentException("expected [3] children but received [" + newChildren.size() + "]").     }     return new Replace(source(), newChildren.get(0), newChildren.get(1), newChildren.get(2)). }
