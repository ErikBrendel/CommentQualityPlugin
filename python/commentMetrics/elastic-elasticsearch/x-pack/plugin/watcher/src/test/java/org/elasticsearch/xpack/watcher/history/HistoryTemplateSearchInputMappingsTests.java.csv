commented;modifiers;parameterAmount;loc;comment;code
false;public;0;61;;public void testHttpFields() throws Exception {     String index = "the-index".     String type = "the-type".     createIndex(index).     index(index, type, "{}").     flush().     refresh().     WatcherSearchTemplateRequest request = new WatcherSearchTemplateRequest(new String[] { index }, new String[] { type }, SearchType.QUERY_THEN_FETCH, WatcherSearchTemplateRequest.DEFAULT_INDICES_OPTIONS, new BytesArray("{}")).     PutWatchResponse putWatchResponse = watcherClient().preparePutWatch("_id").setSource(watchBuilder().trigger(schedule(interval("5s"))).input(searchInput(request)).condition(InternalAlwaysCondition.INSTANCE).addAction("logger", loggingAction("indexed"))).get().     assertThat(putWatchResponse.isCreated(), is(true)).     timeWarp().trigger("_id").     flush().     refresh().     // the action should fail as no email server is available     assertWatchWithMinimumActionsCount("_id", ExecutionState.EXECUTED, 1).     SearchResponse response = client().prepareSearch(HistoryStoreField.INDEX_PREFIX_WITH_TEMPLATE + "*").setSource(searchSource().aggregation(terms("input_search_type").field("result.input.search.request.search_type")).aggregation(terms("input_indices").field("result.input.search.request.indices")).aggregation(terms("input_types").field("result.input.search.request.types")).aggregation(terms("input_body").field("result.input.search.request.body"))).get().     assertThat(response, notNullValue()).     assertThat(response.getHits().getTotalHits().value, is(1L)).     Aggregations aggs = response.getAggregations().     assertThat(aggs, notNullValue()).     Terms terms = aggs.get("input_search_type").     assertThat(terms, notNullValue()).     assertThat(terms.getBuckets().size(), is(1)).     assertThat(terms.getBucketByKey("query_then_fetch"), notNullValue()).     assertThat(terms.getBucketByKey("query_then_fetch").getDocCount(), is(1L)).     terms = aggs.get("input_indices").     assertThat(terms, notNullValue()).     assertThat(terms.getBuckets().size(), is(1)).     assertThat(terms.getBucketByKey(index), notNullValue()).     assertThat(terms.getBucketByKey(index).getDocCount(), is(1L)).     terms = aggs.get("input_types").     assertThat(terms, notNullValue()).     assertThat(terms.getBuckets().size(), is(1)).     assertThat(terms.getBucketByKey(type), notNullValue()).     assertThat(terms.getBucketByKey(type).getDocCount(), is(1L)).     terms = aggs.get("input_body").     assertThat(terms, notNullValue()).     assertThat(terms.getBuckets().size(), is(0)). }
