commented;modifiers;parameterAmount;loc;comment;code
false;public;0;21;;public void testSortDatafeedIdsByTaskState_GivenDatafeedId() {     PersistentTasksCustomMetaData.Builder tasksBuilder = PersistentTasksCustomMetaData.builder().     addTask("datafeed_1", 0L, "node-1", DatafeedState.STARTED, tasksBuilder).     addTask("datafeed_2", 0L, "node-1", DatafeedState.STOPPED, tasksBuilder).     PersistentTasksCustomMetaData tasks = tasksBuilder.build().     List<String> startedDatafeeds = new ArrayList<>().     List<String> stoppingDatafeeds = new ArrayList<>().     TransportStopDatafeedAction.sortDatafeedIdsByTaskState(Collections.singleton("datafeed_1"), tasks, startedDatafeeds, stoppingDatafeeds).     assertEquals(Collections.singletonList("datafeed_1"), startedDatafeeds).     assertEquals(Collections.emptyList(), stoppingDatafeeds).     startedDatafeeds.clear().     stoppingDatafeeds.clear().     TransportStopDatafeedAction.sortDatafeedIdsByTaskState(Collections.singleton("datafeed_2"), tasks, startedDatafeeds, stoppingDatafeeds).     assertEquals(Collections.emptyList(), startedDatafeeds).     assertEquals(Collections.emptyList(), stoppingDatafeeds). }
false;public;0;22;;public void testSortDatafeedIdsByTaskState_GivenAll() {     PersistentTasksCustomMetaData.Builder tasksBuilder = PersistentTasksCustomMetaData.builder().     addTask("datafeed_1", 0L, "node-1", DatafeedState.STARTED, tasksBuilder).     addTask("datafeed_2", 0L, "node-1", DatafeedState.STOPPED, tasksBuilder).     addTask("datafeed_3", 0L, "node-1", DatafeedState.STOPPING, tasksBuilder).     PersistentTasksCustomMetaData tasks = tasksBuilder.build().     List<String> startedDatafeeds = new ArrayList<>().     List<String> stoppingDatafeeds = new ArrayList<>().     TransportStopDatafeedAction.sortDatafeedIdsByTaskState(new HashSet<>(Arrays.asList("datafeed_1", "datafeed_2", "datafeed_3")), tasks, startedDatafeeds, stoppingDatafeeds).     assertEquals(Collections.singletonList("datafeed_1"), startedDatafeeds).     assertEquals(Collections.singletonList("datafeed_3"), stoppingDatafeeds).     startedDatafeeds.clear().     stoppingDatafeeds.clear().     TransportStopDatafeedAction.sortDatafeedIdsByTaskState(Collections.singleton("datafeed_2"), tasks, startedDatafeeds, stoppingDatafeeds).     assertEquals(Collections.emptyList(), startedDatafeeds).     assertEquals(Collections.emptyList(), stoppingDatafeeds). }
false;public,static;5;7;;public static void addTask(String datafeedId, long startTime, String nodeId, DatafeedState state, PersistentTasksCustomMetaData.Builder taskBuilder) {     taskBuilder.addTask(MlTasks.datafeedTaskId(datafeedId), MlTasks.DATAFEED_TASK_NAME, new StartDatafeedAction.DatafeedParams(datafeedId, startTime), new PersistentTasksCustomMetaData.Assignment(nodeId, "test assignment")).     taskBuilder.updateTaskState(MlTasks.datafeedTaskId(datafeedId), state). }
