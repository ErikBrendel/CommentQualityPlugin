commented;modifiers;parameterAmount;loc;comment;code
false;public;0;18;;@Before public void setUpMocks() {     threadPool = mock(ThreadPool.class).     executorService = mock(ExecutorService.class).     clusterService = mock(ClusterService.class).     client = mock(Client.class).     doAnswer(invocation -> {         ((Runnable) invocation.getArguments()[0]).run().         return null.     }).when(executorService).execute(any(Runnable.class)).     when(threadPool.executor(ThreadPool.Names.GENERIC)).thenReturn(executorService).     Scheduler.ScheduledCancellable scheduledCancellable = mock(Scheduler.ScheduledCancellable.class).     when(threadPool.schedule(any(), any(), any())).thenReturn(scheduledCancellable).     when(clusterService.getClusterName()).thenReturn(CLUSTER_NAME). }
false;public;0;5;;public void testInitialize() {     MlInitializationService initializationService = new MlInitializationService(Settings.EMPTY, threadPool, clusterService, client).     initializationService.onMaster().     assertThat(initializationService.getDailyMaintenanceService().isStarted(), is(true)). }
false;public;0;5;;public void testInitialize_noMasterNode() {     MlInitializationService initializationService = new MlInitializationService(Settings.EMPTY, threadPool, clusterService, client).     initializationService.offMaster().     assertThat(initializationService.getDailyMaintenanceService(), is(nullValue())). }
false;public;0;8;;public void testInitialize_alreadyInitialized() {     MlInitializationService initializationService = new MlInitializationService(Settings.EMPTY, threadPool, clusterService, client).     MlDailyMaintenanceService initialDailyMaintenanceService = mock(MlDailyMaintenanceService.class).     initializationService.setDailyMaintenanceService(initialDailyMaintenanceService).     initializationService.onMaster().     assertSame(initialDailyMaintenanceService, initializationService.getDailyMaintenanceService()). }
false;public;0;13;;public void testNodeGoesFromMasterToNonMasterAndBack() {     MlInitializationService initializationService = new MlInitializationService(Settings.EMPTY, threadPool, clusterService, client).     MlDailyMaintenanceService initialDailyMaintenanceService = mock(MlDailyMaintenanceService.class).     initializationService.setDailyMaintenanceService(initialDailyMaintenanceService).     initializationService.offMaster().     verify(initialDailyMaintenanceService).stop().     initializationService.onMaster().     MlDailyMaintenanceService finalDailyMaintenanceService = initializationService.getDailyMaintenanceService().     assertNotSame(initialDailyMaintenanceService, finalDailyMaintenanceService).     assertThat(initializationService.getDailyMaintenanceService().isStarted(), is(true)). }
