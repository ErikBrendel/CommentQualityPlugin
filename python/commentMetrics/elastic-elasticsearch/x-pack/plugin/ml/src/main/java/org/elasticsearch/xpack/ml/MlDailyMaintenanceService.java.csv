# id;timestamp;commentText;codeText;commentWords;codeWords
MlDailyMaintenanceService -> private static TimeValue delayToNextTime(ClusterName clusterName);1524684173;Calculates the delay until the next time the maintenance should be triggered._The next time is 30 minutes past midnight of the following day plus a random_offset. The random offset is added in order to avoid multiple clusters_running the maintenance tasks at the same time. A cluster with a given name_shall have the same offset throughout its life.__@param clusterName the cluster name is used to seed the random offset_@return the delay to the next time the maintenance should be triggered;private static TimeValue delayToNextTime(ClusterName clusterName) {_        Random random = new Random(clusterName.hashCode())__        int minutesOffset = random.ints(0, MAX_TIME_OFFSET_MINUTES).findFirst().getAsInt()__        DateTime now = DateTime.now(ISOChronology.getInstance())__        DateTime next = now.plusDays(1).withTimeAtStartOfDay().plusMinutes(30).plusMinutes(minutesOffset)__        return TimeValue.timeValueMillis(next.getMillis() - now.getMillis())__    };calculates,the,delay,until,the,next,time,the,maintenance,should,be,triggered,the,next,time,is,30,minutes,past,midnight,of,the,following,day,plus,a,random,offset,the,random,offset,is,added,in,order,to,avoid,multiple,clusters,running,the,maintenance,tasks,at,the,same,time,a,cluster,with,a,given,name,shall,have,the,same,offset,throughout,its,life,param,cluster,name,the,cluster,name,is,used,to,seed,the,random,offset,return,the,delay,to,the,next,time,the,maintenance,should,be,triggered;private,static,time,value,delay,to,next,time,cluster,name,cluster,name,random,random,new,random,cluster,name,hash,code,int,minutes,offset,random,ints,0,find,first,get,as,int,date,time,now,date,time,now,isochronology,get,instance,date,time,next,now,plus,days,1,with,time,at,start,of,day,plus,minutes,30,plus,minutes,minutes,offset,return,time,value,time,value,millis,next,get,millis,now,get,millis
MlDailyMaintenanceService -> private static TimeValue delayToNextTime(ClusterName clusterName);1540847035;Calculates the delay until the next time the maintenance should be triggered._The next time is 30 minutes past midnight of the following day plus a random_offset. The random offset is added in order to avoid multiple clusters_running the maintenance tasks at the same time. A cluster with a given name_shall have the same offset throughout its life.__@param clusterName the cluster name is used to seed the random offset_@return the delay to the next time the maintenance should be triggered;private static TimeValue delayToNextTime(ClusterName clusterName) {_        Random random = new Random(clusterName.hashCode())__        int minutesOffset = random.ints(0, MAX_TIME_OFFSET_MINUTES).findFirst().getAsInt()__        DateTime now = DateTime.now(ISOChronology.getInstance())__        DateTime next = now.plusDays(1).withTimeAtStartOfDay().plusMinutes(30).plusMinutes(minutesOffset)__        return TimeValue.timeValueMillis(next.getMillis() - now.getMillis())__    };calculates,the,delay,until,the,next,time,the,maintenance,should,be,triggered,the,next,time,is,30,minutes,past,midnight,of,the,following,day,plus,a,random,offset,the,random,offset,is,added,in,order,to,avoid,multiple,clusters,running,the,maintenance,tasks,at,the,same,time,a,cluster,with,a,given,name,shall,have,the,same,offset,throughout,its,life,param,cluster,name,the,cluster,name,is,used,to,seed,the,random,offset,return,the,delay,to,the,next,time,the,maintenance,should,be,triggered;private,static,time,value,delay,to,next,time,cluster,name,cluster,name,random,random,new,random,cluster,name,hash,code,int,minutes,offset,random,ints,0,find,first,get,as,int,date,time,now,date,time,now,isochronology,get,instance,date,time,next,now,plus,days,1,with,time,at,start,of,day,plus,minutes,30,plus,minutes,minutes,offset,return,time,value,time,value,millis,next,get,millis,now,get,millis
MlDailyMaintenanceService -> private static TimeValue delayToNextTime(ClusterName clusterName);1548236405;Calculates the delay until the next time the maintenance should be triggered._The next time is 30 minutes past midnight of the following day plus a random_offset. The random offset is added in order to avoid multiple clusters_running the maintenance tasks at the same time. A cluster with a given name_shall have the same offset throughout its life.__@param clusterName the cluster name is used to seed the random offset_@return the delay to the next time the maintenance should be triggered;private static TimeValue delayToNextTime(ClusterName clusterName) {_        Random random = new Random(clusterName.hashCode())__        int minutesOffset = random.ints(0, MAX_TIME_OFFSET_MINUTES).findFirst().getAsInt()___        ZonedDateTime now = ZonedDateTime.now(Clock.systemDefaultZone())__        ZonedDateTime next = now.plusDays(1)_            .toLocalDate()_            .atStartOfDay(now.getZone())_            .plusMinutes(30)_            .plusMinutes(minutesOffset)__        return TimeValue.timeValueMillis(next.toInstant().toEpochMilli() - now.toInstant().toEpochMilli())__    };calculates,the,delay,until,the,next,time,the,maintenance,should,be,triggered,the,next,time,is,30,minutes,past,midnight,of,the,following,day,plus,a,random,offset,the,random,offset,is,added,in,order,to,avoid,multiple,clusters,running,the,maintenance,tasks,at,the,same,time,a,cluster,with,a,given,name,shall,have,the,same,offset,throughout,its,life,param,cluster,name,the,cluster,name,is,used,to,seed,the,random,offset,return,the,delay,to,the,next,time,the,maintenance,should,be,triggered;private,static,time,value,delay,to,next,time,cluster,name,cluster,name,random,random,new,random,cluster,name,hash,code,int,minutes,offset,random,ints,0,find,first,get,as,int,zoned,date,time,now,zoned,date,time,now,clock,system,default,zone,zoned,date,time,next,now,plus,days,1,to,local,date,at,start,of,day,now,get,zone,plus,minutes,30,plus,minutes,minutes,offset,return,time,value,time,value,millis,next,to,instant,to,epoch,milli,now,to,instant,to,epoch,milli
MlDailyMaintenanceService -> private static TimeValue delayToNextTime(ClusterName clusterName);1548953505;Calculates the delay until the next time the maintenance should be triggered._The next time is 30 minutes past midnight of the following day plus a random_offset. The random offset is added in order to avoid multiple clusters_running the maintenance tasks at the same time. A cluster with a given name_shall have the same offset throughout its life.__@param clusterName the cluster name is used to seed the random offset_@return the delay to the next time the maintenance should be triggered;private static TimeValue delayToNextTime(ClusterName clusterName) {_        Random random = new Random(clusterName.hashCode())__        int minutesOffset = random.ints(0, MAX_TIME_OFFSET_MINUTES).findFirst().getAsInt()___        ZonedDateTime now = ZonedDateTime.now(Clock.systemDefaultZone())__        ZonedDateTime next = now.plusDays(1)_            .toLocalDate()_            .atStartOfDay(now.getZone())_            .plusMinutes(30)_            .plusMinutes(minutesOffset)__        return TimeValue.timeValueMillis(next.toInstant().toEpochMilli() - now.toInstant().toEpochMilli())__    };calculates,the,delay,until,the,next,time,the,maintenance,should,be,triggered,the,next,time,is,30,minutes,past,midnight,of,the,following,day,plus,a,random,offset,the,random,offset,is,added,in,order,to,avoid,multiple,clusters,running,the,maintenance,tasks,at,the,same,time,a,cluster,with,a,given,name,shall,have,the,same,offset,throughout,its,life,param,cluster,name,the,cluster,name,is,used,to,seed,the,random,offset,return,the,delay,to,the,next,time,the,maintenance,should,be,triggered;private,static,time,value,delay,to,next,time,cluster,name,cluster,name,random,random,new,random,cluster,name,hash,code,int,minutes,offset,random,ints,0,find,first,get,as,int,zoned,date,time,now,zoned,date,time,now,clock,system,default,zone,zoned,date,time,next,now,plus,days,1,to,local,date,at,start,of,day,now,get,zone,plus,minutes,30,plus,minutes,minutes,offset,return,time,value,time,value,millis,next,to,instant,to,epoch,milli,now,to,instant,to,epoch,milli
