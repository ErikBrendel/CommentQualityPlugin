commented;modifiers;parameterAmount;loc;comment;code
false;public;0;13;;public void testSerialization() throws IOException {     boolean withExpiration = randomBoolean().     ApiKey apiKeyInfo = createApiKeyInfo(randomAlphaOfLength(4), randomAlphaOfLength(5), Instant.now(), (withExpiration) ? Instant.now() : null, false, randomAlphaOfLength(4), randomAlphaOfLength(5)).     GetApiKeyResponse response = new GetApiKeyResponse(Collections.singletonList(apiKeyInfo)).     try (BytesStreamOutput output = new BytesStreamOutput()) {         response.writeTo(output).         try (StreamInput input = output.bytes().streamInput()) {             GetApiKeyResponse serialized = new GetApiKeyResponse(input).             assertThat(serialized.getApiKeyInfos(), equalTo(response.getApiKeyInfos())).         }     } }
false;public;0;18;;public void testToXContent() throws IOException {     ApiKey apiKeyInfo1 = createApiKeyInfo("name1", "id-1", Instant.ofEpochMilli(100000L), Instant.ofEpochMilli(10000000L), false, "user-a", "realm-x").     ApiKey apiKeyInfo2 = createApiKeyInfo("name2", "id-2", Instant.ofEpochMilli(100000L), Instant.ofEpochMilli(10000000L), true, "user-b", "realm-y").     GetApiKeyResponse response = new GetApiKeyResponse(Arrays.asList(apiKeyInfo1, apiKeyInfo2)).     XContentBuilder builder = XContentFactory.jsonBuilder().     response.toXContent(builder, ToXContent.EMPTY_PARAMS).     assertThat(Strings.toString(builder), equalTo("{" + "\"api_keys\":[" + "{\"id\":\"id-1\",\"name\":\"name1\",\"creation\":100000,\"expiration\":10000000,\"invalidated\":false," + "\"username\":\"user-a\",\"realm\":\"realm-x\"}," + "{\"id\":\"id-2\",\"name\":\"name2\",\"creation\":100000,\"expiration\":10000000,\"invalidated\":true," + "\"username\":\"user-b\",\"realm\":\"realm-y\"}" + "]" + "}")). }
false;private;7;4;;private ApiKey createApiKeyInfo(String name, String id, Instant creation, Instant expiration, boolean invalidated, String username, String realm) {     return new ApiKey(name, id, creation, expiration, invalidated, username, realm). }
