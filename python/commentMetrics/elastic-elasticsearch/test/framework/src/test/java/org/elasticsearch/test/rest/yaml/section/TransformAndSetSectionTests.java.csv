commented;modifiers;parameterAmount;loc;comment;code
false;public;0;11;;public void testParseSingleValue() throws Exception {     parser = createParser(YamlXContent.yamlXContent, "{ key: value }").     TransformAndSetSection transformAndSet = TransformAndSetSection.parse(parser).     assertThat(transformAndSet, notNullValue()).     assertThat(transformAndSet.getStash(), notNullValue()).     assertThat(transformAndSet.getStash().size(), equalTo(1)).     assertThat(transformAndSet.getStash().get("key"), equalTo("value")). }
false;public;0;12;;public void testParseMultipleValues() throws Exception {     parser = createParser(YamlXContent.yamlXContent, "{ key1: value1, key2: value2 }").     TransformAndSetSection transformAndSet = TransformAndSetSection.parse(parser).     assertThat(transformAndSet, notNullValue()).     assertThat(transformAndSet.getStash(), notNullValue()).     assertThat(transformAndSet.getStash().size(), equalTo(2)).     assertThat(transformAndSet.getStash().get("key1"), equalTo("value1")).     assertThat(transformAndSet.getStash().get("key2"), equalTo("value2")). }
false;public;0;22;;public void testTransformation() throws Exception {     parser = createParser(YamlXContent.yamlXContent, "{ login_creds: \"#base64EncodeCredentials(id,api_key)\" }").     TransformAndSetSection transformAndSet = TransformAndSetSection.parse(parser).     assertThat(transformAndSet, notNullValue()).     assertThat(transformAndSet.getStash(), notNullValue()).     assertThat(transformAndSet.getStash().size(), equalTo(1)).     assertThat(transformAndSet.getStash().get("login_creds"), equalTo("#base64EncodeCredentials(id,api_key)")).     ClientYamlTestExecutionContext executionContext = mock(ClientYamlTestExecutionContext.class).     when(executionContext.response("id")).thenReturn("user").     when(executionContext.response("api_key")).thenReturn("password").     Stash stash = new Stash().     when(executionContext.stash()).thenReturn(stash).     transformAndSet.execute(executionContext).     verify(executionContext).response("id").     verify(executionContext).response("api_key").     verify(executionContext).stash().     assertThat(stash.getValue("$login_creds"), equalTo(Base64.getEncoder().encodeToString("user:password".getBytes(StandardCharsets.UTF_8)))).     verifyNoMoreInteractions(executionContext). }
false;public;0;8;;public void testParseSetSectionNoValues() throws Exception {     parser = createParser(YamlXContent.yamlXContent, "{ }").     Exception e = expectThrows(ParsingException.class, () -> TransformAndSetSection.parse(parser)).     assertThat(e.getMessage(), is("transform_and_set section must set at least a value")). }
