commented;modifiers;parameterAmount;loc;comment;code
false;;0;3;;TemplateScript.Factory getField() {     return field. }
false;;0;3;;TemplateScript.Factory getTargetField() {     return targetField. }
false;;0;3;;boolean isIgnoreMissing() {     return ignoreMissing. }
false;public;1;30;;@Override public IngestDocument execute(IngestDocument document) {     String path = document.renderTemplate(field).     if (document.hasField(path, true) == false) {         if (ignoreMissing) {             return document.         } else {             throw new IllegalArgumentException("field [" + path + "] doesn't exist").         }     }     // We fail here if the target field point to an array slot that is out of range.     // If we didn't do this then we would fail if we set the value in the target_field     // and then on failure processors would not see that value we tried to rename as we already     // removed it.     String target = document.renderTemplate(targetField).     if (document.hasField(target, true)) {         throw new IllegalArgumentException("field [" + target + "] already exists").     }     Object value = document.getFieldValue(path, Object.class).     document.removeField(path).     try {         document.setFieldValue(target, value).     } catch (Exception e) {         // setting the value back to the original field shouldn't as we just fetched it from that field:         document.setFieldValue(path, value).         throw e.     }     return document. }
false;public;0;4;;@Override public String getType() {     return TYPE. }
false;public;3;12;;@Override public RenameProcessor create(Map<String, Processor.Factory> registry, String processorTag, Map<String, Object> config) throws Exception {     String field = ConfigurationUtils.readStringProperty(TYPE, processorTag, config, "field").     TemplateScript.Factory fieldTemplate = ConfigurationUtils.compileTemplate(TYPE, processorTag, "field", field, scriptService).     String targetField = ConfigurationUtils.readStringProperty(TYPE, processorTag, config, "target_field").     TemplateScript.Factory targetFieldTemplate = ConfigurationUtils.compileTemplate(TYPE, processorTag, "target_field", targetField, scriptService).     boolean ignoreMissing = ConfigurationUtils.readBooleanProperty(TYPE, processorTag, config, "ignore_missing", false).     return new RenameProcessor(processorTag, fieldTemplate, targetFieldTemplate, ignoreMissing). }
