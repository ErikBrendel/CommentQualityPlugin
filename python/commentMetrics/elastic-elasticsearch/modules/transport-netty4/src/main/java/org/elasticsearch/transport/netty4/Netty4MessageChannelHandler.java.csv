commented;modifiers;parameterAmount;loc;comment;code
false;public;2;14;;@Override public void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception {     Transports.assertTransportThread().     assert msg instanceof ByteBuf : "Expected message type ByteBuf, found: " + msg.getClass().     final ByteBuf buffer = (ByteBuf) msg.     try {         Channel channel = ctx.channel().         Attribute<Netty4TcpChannel> channelAttribute = channel.attr(Netty4Transport.CHANNEL_KEY).         transport.inboundMessage(channelAttribute.get(), Netty4Utils.toBytesReference(buffer)).     } finally {         buffer.release().     } }
false;public;2;12;;@Override public void exceptionCaught(ChannelHandlerContext ctx, Throwable cause) throws Exception {     ExceptionsHelper.maybeDieOnAnotherThread(cause).     final Throwable unwrapped = ExceptionsHelper.unwrap(cause, ElasticsearchException.class).     final Throwable newCause = unwrapped != null ? unwrapped : cause.     Netty4TcpChannel tcpChannel = ctx.channel().attr(Netty4Transport.CHANNEL_KEY).get().     if (newCause instanceof Error) {         transport.onException(tcpChannel, new Exception(newCause)).     } else {         transport.onException(tcpChannel, (Exception) newCause).     } }
