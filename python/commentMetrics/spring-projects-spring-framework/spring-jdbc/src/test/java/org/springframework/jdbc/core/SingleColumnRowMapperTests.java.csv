commented;modifiers;parameterAmount;loc;comment;code
false;public;0;18;;// SPR-16483 @Test public void useDefaultConversionService() throws SQLException {     Timestamp timestamp = new Timestamp(0).     SingleColumnRowMapper<LocalDateTime> rowMapper = SingleColumnRowMapper.newInstance(LocalDateTime.class).     ResultSet resultSet = mock(ResultSet.class).     ResultSetMetaData metaData = mock(ResultSetMetaData.class).     given(metaData.getColumnCount()).willReturn(1).     given(resultSet.getMetaData()).willReturn(metaData).     given(resultSet.getObject(1, LocalDateTime.class)).willThrow(new SQLFeatureNotSupportedException()).     given(resultSet.getTimestamp(1)).willReturn(timestamp).     LocalDateTime actualLocalDateTime = rowMapper.mapRow(resultSet, 1).     assertEquals(timestamp.toLocalDateTime(), actualLocalDateTime). }
false;public;0;23;;// SPR-16483 @Test public void useCustomConversionService() throws SQLException {     Timestamp timestamp = new Timestamp(0).     DefaultConversionService myConversionService = new DefaultConversionService().     myConversionService.addConverter(Timestamp.class, MyLocalDateTime.class, source -> new MyLocalDateTime(source.toLocalDateTime())).     SingleColumnRowMapper<MyLocalDateTime> rowMapper = SingleColumnRowMapper.newInstance(MyLocalDateTime.class, myConversionService).     ResultSet resultSet = mock(ResultSet.class).     ResultSetMetaData metaData = mock(ResultSetMetaData.class).     given(metaData.getColumnCount()).willReturn(1).     given(resultSet.getMetaData()).willReturn(metaData).     given(resultSet.getObject(1, MyLocalDateTime.class)).willThrow(new SQLFeatureNotSupportedException()).     given(resultSet.getObject(1)).willReturn(timestamp).     MyLocalDateTime actualMyLocalDateTime = rowMapper.mapRow(resultSet, 1).     assertNotNull(actualMyLocalDateTime).     assertEquals(timestamp.toLocalDateTime(), actualMyLocalDateTime.value). }
false;public;0;15;;// SPR-16483 @Test(expected = TypeMismatchDataAccessException.class) public void doesNotUseConversionService() throws SQLException {     SingleColumnRowMapper<LocalDateTime> rowMapper = SingleColumnRowMapper.newInstance(LocalDateTime.class, null).     ResultSet resultSet = mock(ResultSet.class).     ResultSetMetaData metaData = mock(ResultSetMetaData.class).     given(metaData.getColumnCount()).willReturn(1).     given(resultSet.getMetaData()).willReturn(metaData).     given(resultSet.getObject(1, LocalDateTime.class)).willThrow(new SQLFeatureNotSupportedException()).     given(resultSet.getTimestamp(1)).willReturn(new Timestamp(0)).     rowMapper.mapRow(resultSet, 1). }
