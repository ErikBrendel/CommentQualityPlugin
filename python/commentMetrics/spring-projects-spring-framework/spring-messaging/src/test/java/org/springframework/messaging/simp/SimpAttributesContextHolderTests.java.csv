commented;modifiers;parameterAmount;loc;comment;code
false;public;0;5;;@Before public void setUp() {     Map<String, Object> map = new ConcurrentHashMap<>().     this.simpAttributes = new SimpAttributes("session1", map). }
false;public;0;4;;@After public void tearDown() {     SimpAttributesContextHolder.resetAttributes(). }
false;public;0;8;;@Test public void resetAttributes() {     SimpAttributesContextHolder.setAttributes(this.simpAttributes).     assertThat(SimpAttributesContextHolder.getAttributes(), sameInstance(this.simpAttributes)).     SimpAttributesContextHolder.resetAttributes().     assertThat(SimpAttributesContextHolder.getAttributes(), nullValue()). }
false;public;0;7;;@Test public void getAttributes() {     assertThat(SimpAttributesContextHolder.getAttributes(), nullValue()).     SimpAttributesContextHolder.setAttributes(this.simpAttributes).     assertThat(SimpAttributesContextHolder.getAttributes(), sameInstance(this.simpAttributes)). }
false;public;0;8;;@Test public void setAttributes() {     SimpAttributesContextHolder.setAttributes(this.simpAttributes).     assertThat(SimpAttributesContextHolder.getAttributes(), sameInstance(this.simpAttributes)).     SimpAttributesContextHolder.setAttributes(null).     assertThat(SimpAttributesContextHolder.getAttributes(), nullValue()). }
false;public;0;20;;@Test public void setAttributesFromMessage() {     String sessionId = "session1".     ConcurrentHashMap<String, Object> map = new ConcurrentHashMap<>().     SimpMessageHeaderAccessor headerAccessor = SimpMessageHeaderAccessor.create().     headerAccessor.setSessionId(sessionId).     headerAccessor.setSessionAttributes(map).     Message<?> message = MessageBuilder.createMessage("", headerAccessor.getMessageHeaders()).     SimpAttributesContextHolder.setAttributesFromMessage(message).     SimpAttributes attrs = SimpAttributesContextHolder.getAttributes().     assertThat(attrs, notNullValue()).     assertThat(attrs.getSessionId(), is(sessionId)).     attrs.setAttribute("name1", "value1").     assertThat(map.get("name1"), is("value1")). }
false;public;0;6;;@Test public void setAttributesFromMessageWithMissingSessionId() {     this.thrown.expect(IllegalStateException.class).     this.thrown.expectMessage(startsWith("No session id in")).     SimpAttributesContextHolder.setAttributesFromMessage(new GenericMessage<Object>("")). }
false;public;0;9;;@Test public void setAttributesFromMessageWithMissingSessionAttributes() {     this.thrown.expect(IllegalStateException.class).     this.thrown.expectMessage(startsWith("No session attributes in")).     SimpMessageHeaderAccessor headerAccessor = SimpMessageHeaderAccessor.create().     headerAccessor.setSessionId("session1").     Message<?> message = MessageBuilder.createMessage("", headerAccessor.getMessageHeaders()).     SimpAttributesContextHolder.setAttributesFromMessage(message). }
false;public;0;5;;@Test public void currentAttributes() {     SimpAttributesContextHolder.setAttributes(this.simpAttributes).     assertThat(SimpAttributesContextHolder.currentAttributes(), sameInstance(this.simpAttributes)). }
false;public;0;6;;@Test public void currentAttributesNone() {     this.thrown.expect(IllegalStateException.class).     this.thrown.expectMessage(startsWith("No thread-bound SimpAttributes found")).     SimpAttributesContextHolder.currentAttributes(). }
