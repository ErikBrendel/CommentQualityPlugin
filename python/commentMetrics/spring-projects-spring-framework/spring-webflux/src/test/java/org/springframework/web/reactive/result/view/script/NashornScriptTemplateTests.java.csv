commented;modifiers;parameterAmount;loc;comment;code
false;public;0;10;;@Test public void renderTemplate() throws Exception {     Map<String, Object> model = new HashMap<>().     model.put("title", "Layout example").     model.put("body", "This is the body").     String url = "org/springframework/web/reactive/result/view/script/nashorn/template.html".     MockServerHttpResponse response = render(url, model, ScriptTemplatingConfiguration.class).     assertEquals("<html><head><title>Layout example</title></head><body><p>This is the body</p></body></html>", response.getBodyAsString().block()). }
false;public;0;8;;// SPR-13453 @Test public void renderTemplateWithUrl() throws Exception {     String url = "org/springframework/web/reactive/result/view/script/nashorn/template.html".     Class<?> configClass = ScriptTemplatingWithUrlConfiguration.class.     MockServerHttpResponse response = render(url, null, configClass).     assertEquals("<html><head><title>Check url parameter</title></head><body><p>" + url + "</p></body></html>", response.getBodyAsString().block()). }
false;private;3;8;;private MockServerHttpResponse render(String viewUrl, Map<String, Object> model, Class<?> configuration) throws Exception {     ScriptTemplateView view = createViewWithUrl(viewUrl, configuration).     MockServerWebExchange exchange = MockServerWebExchange.from(MockServerHttpRequest.get("/")).     view.renderInternal(model, MediaType.TEXT_HTML, exchange).block().     return exchange.getResponse(). }
false;private;2;11;;private ScriptTemplateView createViewWithUrl(String viewUrl, Class<?> configuration) throws Exception {     AnnotationConfigApplicationContext ctx = new AnnotationConfigApplicationContext().     ctx.register(configuration).     ctx.refresh().     ScriptTemplateView view = new ScriptTemplateView().     view.setApplicationContext(ctx).     view.setUrl(viewUrl).     view.afterPropertiesSet().     return view. }
false;public;0;8;;@Bean public ScriptTemplateConfigurer nashornConfigurer() {     ScriptTemplateConfigurer configurer = new ScriptTemplateConfigurer().     configurer.setEngineName("nashorn").     configurer.setScripts("org/springframework/web/reactive/result/view/script/nashorn/render.js").     configurer.setRenderFunction("render").     return configurer. }
false;public;0;8;;@Bean public ScriptTemplateConfigurer nashornConfigurer() {     ScriptTemplateConfigurer configurer = new ScriptTemplateConfigurer().     configurer.setEngineName("nashorn").     configurer.setScripts("org/springframework/web/reactive/result/view/script/nashorn/render.js").     configurer.setRenderFunction("renderWithUrl").     return configurer. }
