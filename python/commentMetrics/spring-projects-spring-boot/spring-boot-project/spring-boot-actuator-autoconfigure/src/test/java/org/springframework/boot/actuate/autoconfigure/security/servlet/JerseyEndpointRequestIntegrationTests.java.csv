commented;modifiers;parameterAmount;loc;comment;code
false;protected;0;15;;@Override protected WebApplicationContextRunner getContextRunner() {     return new WebApplicationContextRunner(AnnotationConfigServletWebServerApplicationContext::new).withClassLoader(new FilteredClassLoader("org.springframework.web.servlet.DispatcherServlet")).withUserConfiguration(JerseyEndpointConfiguration.class, SecurityConfiguration.class, BaseConfiguration.class).withConfiguration(AutoConfigurations.of(SecurityAutoConfiguration.class, UserDetailsServiceAutoConfiguration.class, SecurityRequestMatcherProviderAutoConfiguration.class, JacksonAutoConfiguration.class, JerseyAutoConfiguration.class)). }
false;public;0;11;;@Test public void toLinksWhenApplicationPathSetShouldMatch() {     getContextRunner().withPropertyValues("spring.jersey.application-path=/admin").run((context) -> {         WebTestClient webTestClient = getWebTestClient(context).         webTestClient.get().uri("/admin/actuator/").exchange().expectStatus().isOk().         webTestClient.get().uri("/admin/actuator").exchange().expectStatus().isOk().     }). }
false;public;0;9;;@Test public void toEndpointWhenApplicationPathSetShouldMatch() {     getContextRunner().withPropertyValues("spring.jersey.application-path=/admin").run((context) -> {         WebTestClient webTestClient = getWebTestClient(context).         webTestClient.get().uri("/admin/actuator/e1").exchange().expectStatus().isOk().     }). }
false;public;0;12;;@Test public void toAnyEndpointWhenApplicationPathSetShouldMatch() {     getContextRunner().withPropertyValues("spring.jersey.application-path=/admin", "spring.security.user.password=password").run((context) -> {         WebTestClient webTestClient = getWebTestClient(context).         webTestClient.get().uri("/admin/actuator/e2").exchange().expectStatus().isUnauthorized().         webTestClient.get().uri("/admin/actuator/e2").header("Authorization", getBasicAuth()).exchange().expectStatus().isOk().     }). }
false;public;0;4;;@Bean public TomcatServletWebServerFactory tomcat() {     return new TomcatServletWebServerFactory(0). }
false;public;0;4;;@Bean public ResourceConfig resourceConfig() {     return new ResourceConfig(). }
false;public;0;4;;@Bean public ResourceConfigCustomizer webEndpointRegistrar() {     return this::customize. }
false;private;1;16;;private void customize(ResourceConfig config) {     List<String> mediaTypes = Arrays.asList(javax.ws.rs.core.MediaType.APPLICATION_JSON, ActuatorMediaType.V2_JSON).     EndpointMediaTypes endpointMediaTypes = new EndpointMediaTypes(mediaTypes, mediaTypes).     WebEndpointDiscoverer discoverer = new WebEndpointDiscoverer(this.applicationContext, new ConversionServiceParameterValueMapper(), endpointMediaTypes, Arrays.asList(EndpointId::toString), Collections.emptyList(), Collections.emptyList()).     Collection<Resource> resources = new JerseyEndpointResourceFactory().createEndpointResources(new EndpointMapping("/actuator"), discoverer.getEndpoints(), endpointMediaTypes, new EndpointLinksResolver(discoverer.getEndpoints())).     config.registerResources(new HashSet<>(resources)). }
