commented;modifiers;parameterAmount;loc;comment;code
false;public;0;6;;@After public void close() {     if (this.context != null) {         this.context.close().     } }
false;public;0;9;;@Test public void wrapLocalValidatorFactoryBean() {     ValidatorAdapter wrapper = load(LocalValidatorFactoryBeanConfig.class).     assertThat(wrapper.supports(SampleData.class)).isTrue().     MapBindingResult errors = new MapBindingResult(new HashMap<String, Object>(), "test").     wrapper.validate(new SampleData(40), errors).     assertThat(errors.getErrorCount()).isEqualTo(1). }
false;public;0;12;;@Test public void wrapperInvokesCallbackOnNonManagedBean() {     load(NonManagedBeanConfig.class).     LocalValidatorFactoryBean validator = this.context.getBean(NonManagedBeanConfig.class).validator.     verify(validator, times(1)).setApplicationContext(any(ApplicationContext.class)).     verify(validator, times(1)).afterPropertiesSet().     verify(validator, never()).destroy().     this.context.close().     this.context = null.     verify(validator, times(1)).destroy(). }
false;public;0;12;;@Test public void wrapperDoesNotInvokeCallbackOnManagedBean() {     load(ManagedBeanConfig.class).     LocalValidatorFactoryBean validator = this.context.getBean(ManagedBeanConfig.class).validator.     verify(validator, never()).setApplicationContext(any(ApplicationContext.class)).     verify(validator, never()).afterPropertiesSet().     verify(validator, never()).destroy().     this.context.close().     this.context = null.     verify(validator, never()).destroy(). }
false;private;1;7;;private ValidatorAdapter load(Class<?> config) {     AnnotationConfigApplicationContext ctx = new AnnotationConfigApplicationContext().     ctx.register(config).     ctx.refresh().     this.context = ctx.     return this.context.getBean(ValidatorAdapter.class). }
false;public;0;4;;@Bean public LocalValidatorFactoryBean validator() {     return new LocalValidatorFactoryBean(). }
false;public;0;4;;@Bean public ValidatorAdapter wrapper() {     return new ValidatorAdapter(validator(), true). }
false;public;0;4;;@Bean public ValidatorAdapter wrapper() {     return new ValidatorAdapter(this.validator, false). }
false;public;0;4;;@Bean public ValidatorAdapter wrapper() {     return new ValidatorAdapter(this.validator, true). }
