commented;modifiers;parameterAmount;loc;comment;code
false;public;0;8;;@Before public void setup() {     this.environment = new MockEnvironment().     this.serverProperties = new ServerProperties().     ConfigurationPropertySources.attach(this.environment).     this.customizer = new TomcatServletWebServerFactoryCustomizer(this.serverProperties). }
false;public;0;5;;@Test public void customTldSkip() {     bind("server.tomcat.additional-tld-skip-patterns=foo.jar,bar.jar").     testCustomTldSkip("foo.jar", "bar.jar"). }
false;public;0;6;;@Test public void customTldSkipAsList() {     bind("server.tomcat.additional-tld-skip-patterns[0]=biz.jar", "server.tomcat.additional-tld-skip-patterns[1]=bah.jar").     testCustomTldSkip("biz.jar", "bah.jar"). }
false;private;1;6;;private void testCustomTldSkip(String... expectedJars) {     TomcatServletWebServerFactory factory = customizeAndGetFactory().     assertThat(factory.getTldSkipPatterns()).contains(expectedJars).     assertThat(factory.getTldSkipPatterns()).contains("junit-*.jar", "spring-boot-*.jar"). }
false;public;0;9;;@Test public void redirectContextRootCanBeConfigured() {     bind("server.tomcat.redirect-context-root=false").     ServerProperties.Tomcat tomcat = this.serverProperties.getTomcat().     assertThat(tomcat.getRedirectContextRoot()).isFalse().     TomcatWebServer server = customizeAndGetServer().     Context context = (Context) server.getTomcat().getHost().findChildren()[0].     assertThat(context.getMapperContextRootRedirectEnabled()).isFalse(). }
false;public;0;8;;@Test public void useRelativeRedirectsCanBeConfigured() {     bind("server.tomcat.use-relative-redirects=true").     assertThat(this.serverProperties.getTomcat().getUseRelativeRedirects()).isTrue().     TomcatWebServer server = customizeAndGetServer().     Context context = (Context) server.getTomcat().getHost().findChildren()[0].     assertThat(context.getUseRelativeRedirects()).isTrue(). }
false;private;1;6;;private void bind(String... inlinedProperties) {     TestPropertySourceUtils.addInlinedPropertiesToEnvironment(this.environment, inlinedProperties).     new Binder(ConfigurationPropertySources.get(this.environment)).bind("server", Bindable.ofInstance(this.serverProperties)). }
false;private;0;4;;private TomcatWebServer customizeAndGetServer() {     TomcatServletWebServerFactory factory = customizeAndGetFactory().     return (TomcatWebServer) factory.getWebServer(). }
false;private;0;5;;private TomcatServletWebServerFactory customizeAndGetFactory() {     TomcatServletWebServerFactory factory = new TomcatServletWebServerFactory(0).     this.customizer.customize(factory).     return factory. }
