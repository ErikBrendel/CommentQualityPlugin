commented;modifiers;parameterAmount;loc;comment;code
false;protected;1;16;;@Override protected void doHealthCheck(Health.Builder builder) throws Exception {     Response response = this.client.performRequest(new Request("GET", "/_cluster/health/")).     StatusLine statusLine = response.getStatusLine().     if (statusLine.getStatusCode() != HttpStatus.SC_OK) {         builder.down().         builder.withDetail("statusCode", statusLine.getStatusCode()).         builder.withDetail("reasonPhrase", statusLine.getReasonPhrase()).         return.     }     try (InputStream inputStream = response.getEntity().getContent()) {         doHealthCheck(builder, StreamUtils.copyToString(inputStream, StandardCharsets.UTF_8)).     } }
false;private;2;11;;private void doHealthCheck(Health.Builder builder, String json) {     Map<String, Object> response = this.jsonParser.parseMap(json).     String status = (String) response.get("status").     if (RED_STATUS.equals(status)) {         builder.outOfService().     } else {         builder.up().     }     builder.withDetails(response). }
