commented;modifiers;parameterAmount;loc;comment;code
false;public;3;10;;public WebOperationRequestPredicate getRequestPredicate(EndpointId endpointId, String rootPath, DiscoveredOperationMethod operationMethod) {     Method method = operationMethod.getMethod().     String path = getPath(rootPath, method).     WebEndpointHttpMethod httpMethod = determineHttpMethod(operationMethod.getOperationType()).     Collection<String> consumes = getConsumes(httpMethod, method).     Collection<String> produces = getProduces(operationMethod, method).     return new WebOperationRequestPredicate(path, httpMethod, consumes, produces). }
false;private;2;4;;private String getPath(String rootPath, Method method) {     return rootPath + Stream.of(method.getParameters()).filter(this::hasSelector).map(this::slashName).collect(Collectors.joining()). }
false;private;1;3;;private boolean hasSelector(Parameter parameter) {     return parameter.getAnnotation(Selector.class) != null. }
false;private;1;3;;private String slashName(Parameter parameter) {     return "/{" + parameter.getName() + "}". }
false;private;2;7;;private Collection<String> getConsumes(WebEndpointHttpMethod httpMethod, Method method) {     if (WebEndpointHttpMethod.POST == httpMethod && consumesRequestBody(method)) {         return this.endpointMediaTypes.getConsumed().     }     return Collections.emptyList(). }
false;private;2;14;;private Collection<String> getProduces(DiscoveredOperationMethod operationMethod, Method method) {     if (!operationMethod.getProducesMediaTypes().isEmpty()) {         return operationMethod.getProducesMediaTypes().     }     if (Void.class.equals(method.getReturnType()) || void.class.equals(method.getReturnType())) {         return Collections.emptyList().     }     if (producesResource(method)) {         return Collections.singletonList("application/octet-stream").     }     return this.endpointMediaTypes.getProduced(). }
false;private;1;13;;private boolean producesResource(Method method) {     if (Resource.class.equals(method.getReturnType())) {         return true.     }     if (WebEndpointResponse.class.isAssignableFrom(method.getReturnType())) {         ResolvableType returnType = ResolvableType.forMethodReturnType(method).         if (ResolvableType.forClass(Resource.class).isAssignableFrom(returnType.getGeneric(0))) {             return true.         }     }     return false. }
false;private;1;4;;private boolean consumesRequestBody(Method method) {     return Stream.of(method.getParameters()).anyMatch((parameter) -> parameter.getAnnotation(Selector.class) == null). }
false;private;1;9;;private WebEndpointHttpMethod determineHttpMethod(OperationType operationType) {     if (operationType == OperationType.WRITE) {         return WebEndpointHttpMethod.POST.     }     if (operationType == OperationType.DELETE) {         return WebEndpointHttpMethod.DELETE.     }     return WebEndpointHttpMethod.GET. }
