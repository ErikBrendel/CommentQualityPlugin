commented;modifiers;parameterAmount;loc;comment;code
false;public;0;8;;@Override public void run() {     // Because this thread is registered as a shutdown hook, we cannot     // wait here and then call for termination. That would always delay the JVM shutdown.     // Instead, we spawn a non shutdown hook thread from here.     // That thread is a daemon, so it does not keep the JVM alive.     terminator.start(). }
false;public;0;11;;@Override public void run() {     try {         Thread.sleep(delayMillis).     } catch (Throwable t) {     // catch all, including thread death, etc     }     Runtime.getRuntime().halt(EXIT_CODE). }
true;public,static;1;3;/**  * Installs the safeguard shutdown hook. The maximum time that the JVM is allowed to spend  * on shutdown before being killed is five seconds.  *  * @param logger The logger to log errors to.  */ ;// ------------------------------------------------------------------------ // Installing as a shutdown hook // ------------------------------------------------------------------------ /**  * Installs the safeguard shutdown hook. The maximum time that the JVM is allowed to spend  * on shutdown before being killed is five seconds.  *  * @param logger The logger to log errors to.  */ public static void installAsShutdownHook(Logger logger) {     installAsShutdownHook(logger, DEFAULT_DELAY). }
true;public,static;2;7;/**  * Installs the safeguard shutdown hook. The maximum time that the JVM is allowed to spend  * on shutdown before being killed is the given number of milliseconds.  *  * @param logger      The logger to log errors to.  * @param delayMillis The delay (in milliseconds) to wait after clean shutdown was stared,  *                    before forcibly terminating the JVM.  */ ;/**  * Installs the safeguard shutdown hook. The maximum time that the JVM is allowed to spend  * on shutdown before being killed is the given number of milliseconds.  *  * @param logger      The logger to log errors to.  * @param delayMillis The delay (in milliseconds) to wait after clean shutdown was stared,  *                    before forcibly terminating the JVM.  */ public static void installAsShutdownHook(Logger logger, long delayMillis) {     checkArgument(delayMillis >= 0, "delay must be >= 0").     // install the blocking shutdown hook     Thread shutdownHook = new JvmShutdownSafeguard(delayMillis).     ShutdownHookUtil.addShutdownHookThread(shutdownHook, JvmShutdownSafeguard.class.getSimpleName(), logger). }
