commented;modifiers;parameterAmount;loc;comment;code
false;public;0;11;;@Override public boolean canRestart() {     if (isRestartTimestampsQueueFull()) {         Long now = System.currentTimeMillis().         Long earliestFailure = restartTimestampsDeque.peek().         return (now - earliestFailure) > failuresInterval.toMilliseconds().     } else {         return true.     } }
false;public;0;4;;@Override public void run() {     restarter.triggerFullRecovery(). }
false;public;2;14;;@Override public void restart(final RestartCallback restarter, ScheduledExecutor executor) {     if (isRestartTimestampsQueueFull()) {         restartTimestampsDeque.remove().     }     restartTimestampsDeque.add(System.currentTimeMillis()).     executor.schedule(new Runnable() {          @Override         public void run() {             restarter.triggerFullRecovery().         }     }, delayInterval.getSize(), delayInterval.getUnit()). }
false;private;0;3;;private boolean isRestartTimestampsQueueFull() {     return restartTimestampsDeque.size() >= maxFailuresPerInterval. }
false;public;0;8;;@Override public String toString() {     return "FailureRateRestartStrategy(" + "failuresInterval=" + failuresInterval + "delayInterval=" + delayInterval + "maxFailuresPerInterval=" + maxFailuresPerInterval + ")". }
false;public,static;1;14;;public static FailureRateRestartStrategyFactory createFactory(Configuration configuration) throws Exception {     int maxFailuresPerInterval = configuration.getInteger(ConfigConstants.RESTART_STRATEGY_FAILURE_RATE_MAX_FAILURES_PER_INTERVAL, 1).     String failuresIntervalString = configuration.getString(ConfigConstants.RESTART_STRATEGY_FAILURE_RATE_FAILURE_RATE_INTERVAL, Duration.apply(1, TimeUnit.MINUTES).toString()).     String timeoutString = configuration.getString(AkkaOptions.WATCH_HEARTBEAT_INTERVAL).     String delayString = configuration.getString(ConfigConstants.RESTART_STRATEGY_FAILURE_RATE_DELAY, timeoutString).     Duration failuresInterval = Duration.apply(failuresIntervalString).     Duration delay = Duration.apply(delayString).     return new FailureRateRestartStrategyFactory(maxFailuresPerInterval, Time.milliseconds(failuresInterval.toMillis()), Time.milliseconds(delay.toMillis())). }
false;public;0;4;;@Override public RestartStrategy createRestartStrategy() {     return new FailureRateRestartStrategy(maxFailuresPerInterval, failuresInterval, delayInterval). }
